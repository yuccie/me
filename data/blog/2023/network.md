---
title: '网络及网络攻击相关'
date: Thu May 18 2023 10:03:46 GMT+0800 (中国标准时间)
lastmod: '2023-05-14'
tags: ['网络攻击']
draft: false
summary: '这短短的一生，我们总要做一些有意义的事情。。。'
layout: PostSimple
bibliography: references-data.bib
canonicalUrl: https://dume.vercel.app/blog/2023/network
---

## DDOS（Distributed Denial of Service）

### 什么是 DDOS 攻击

DDoS 攻击是指分布式拒绝服务攻击，它是一种网络攻击方式，通过同时向目标服务器发送大量的请求，使其超出正常负载范围，从而导致服务器无法处理正常请求，使其变得不可用。

攻击者通常使用大量的计算机或网络设备作为“僵尸网络”，并通过控制这些设备向目标服务器发起攻击。

DDoS 攻击可以对网站、服务器、网络设备等造成重大影响，甚至可能导致系统瘫痪。为了防范 DDoS 攻击，可以采取一些安全措施，如增强网络安全防护、加强网络监控等。

### 如何预防 DDOS 攻击

1. 使用 DDoS 保护服务：许多云服务提供商和网络安全公司提供 DDoS 保护服务，这些服务可以检测和过滤掉 DDoS 攻击流量。
2. 配置防火墙：防火墙可以过滤掉恶意流量，可以配置防火墙规则来限制非法访问。
3. 升级硬件设备：升级硬件设备可以提高网络带宽和吞吐量，从而能够更好地处理 DDoS 攻击。
4. 合理分配带宽资源：合理分配带宽资源可以避免 DDoS 攻击对网络带宽的消耗，可以通过限制每个连接的带宽来实现。
5. 增加多层防御：多层防御可以增强网络安全性，例如可以将 IDPS、防火墙、Web 应用程序防护等多种安全技术结合起来使用。
6. 定期备份数据：定期备份数据可以避免数据丢失，如果遭受 DDoS 攻击，可以快速恢复数据。
7. 加强员工安全意识：加强员工安全意识可以避免内部员工造成的安全漏洞，例如采取强密码策略、限制员工访问权限等。

## XXS 攻击（Cross-Site Scripting）

XXS 攻击（Cross-Site Scripting）是一种常见的 Web 应用程序攻击，攻击者通过注入恶意脚本代码到 Web 页面中，使得用户在访问该页面时受到攻击。攻击者可以利用这些脚本代码窃取用户的敏感信息、篡改页面内容、发起其他攻击等。

### 如何预防

以下是预防 XXS 攻击的一些方法：

1. 过滤输入数据：对于用户输入的数据进行过滤和验证，过滤掉恶意的脚本代码。
2. 对输出数据进行编码：对于输出到浏览器的数据进行编码，使得浏览器不会将其解释为可执行的脚本代码。
3. 使用 HTTPOnly Cookie：将 Cookie 标记为 HTTPOnly，使得 JavaScript 无法访问 Cookie，从而防止攻击者窃取用户的 Cookie 信息。
4. CSP（Content Security Policy）：通过 CSP 限制 Web 页面中可以执行的脚本代码，防止恶意脚本的执行。
5. 使用安全的框架和库：使用受信任的框架和库，这些框架和库通常会提供一些内置的安全措施来防止 XXS 攻击。

## CSRF（Cross-Site Request Forgery，跨站请求伪造）

是一种利用用户已经在其他网站上登录的身份信息，并在用户不知情的情况下，伪造用户请求发送到目标网站的攻击方式。

攻击者可以利用这种方式伪造用户请求，执行一些非法操作，例如在用户不知情的情况下向其账户内转账、修改密码等。

### 如何预防

- 验证请求来源：可以在服务器端验证请求的来源是否合法，例如检查 HTTP 头中的 Referer 字段，只接受来自可信站点的请求。
- 随机化请求参数：可以在每个请求中添加一个随机的参数，例如一个随机的 token，用于验证请求的合法性。
- 设置 Cookie 属性：可以设置 HttpOnly 属性，防止 cookie 被 JavaScript 读取。同时，还可以设置 SameSite 属性，限制 cookie 只能在同一站点内使用，防止跨站点访问。
- 用户身份验证：用户登录后，应该再次验证用户的身份信息，例如在用户进行敏感操作前再次输入密码。
- 防范 XSS 攻击：XSS 攻击是 CSRF 攻击的一种前置条件。因此，要预防 CSRF 攻击，必须同时预防 XSS 攻击，例如对用户输入的数据进行过滤和转义。

## 中间人攻击（Man-in-the-middle attack，简称 MITM 攻击）

中间人攻击（Man-in-the-middle attack，简称 MITM 攻击）是指攻击者通过截获双方之间的通信流量，进而能够窃取或篡改通信内容的一种攻击方式。攻击者可以在双方之间建立自己的虚假通信渠道，使得双方认为他们正在进行正常的通信，但实际上攻击者已经掌握了通信内容和控制权。

其实，双方都以为和理想中的人交流，其实他们与一个中间人进行的交流

### 如何预防

预防中间人攻击的方法主要有以下几种：

- 使用加密通信：通过使用加密通信协议，如 HTTPS、SSH 等，可以防止攻击者窃取通信内容。
- 确认身份：通过确认对方的身份，如使用数字证书等，可以防止攻击者伪装成合法的通信对象。
- 避免公共网络：尽量避免在公共网络上进行敏感信息的传输，如在公共 WiFi 上登录银行账户等。
- 更新软件：及时更新软件和系统补丁，以保持系统的安全性，避免被攻击者利用软件漏洞进行攻击。

注意安全：提高自身的安全意识，避免点击不明来源的链接、下载不安全的文件等行为，以防止被攻击者利用社交工程等手段进行攻击。

## CDN

CDN（Content Delivery Network）是一种分布式网络架构，通过部署在全球各地的服务器节点，将内容分发到用户所在的最近的节点，从而提高网站或应用的访问速度和稳定性。

### CDN 的工作原理如下：

1. 用户发起请求：用户在浏览器中输入网址，请求访问网站或应用。
2. DNS 解析：用户的请求首先经过 DNS 解析，将域名解析为对应的 IP 地址。
3. 负载均衡：CDN 服务器根据用户的 IP 地址和请求内容，选择最近的服务器节点进行响应，以提高访问速度。
4. 缓存：如果该请求已经被缓存过，CDN 服务器会直接从缓存中返回响应，避免重复请求源站。
5. 加速传输：CDN 服务器和用户之间的传输使用高速网络，加速数据传输，提高访问速度和稳定性。
6. 动态加速：对于动态内容，CDN 服务器可以使用缓存技术、压缩技术、图片优化等方式进行加速处理，提高用户体验。

### CDN 的主要工作包括：

1. 静态资源加速：如图片、视频、CSS、JS 等静态文件的分发和缓存，以提高访问速度和稳定性。
2. 动态内容加速：对于动态内容的加速处理，如压缩、缓存、图片优化等技术，以提高用户体验。
3. 安全防护：CDN 可以通过 DDoS 攻击防护、Web 应用防护等技术，保障网站和应用的安全。
4. 数据统计分析：CDN 可以通过数据统计分析，了解用户访问情况、流量分布情况等，为网站或应用的优化提供数据支持。

总之，CDN 通过分布式网络架构、负载均衡、缓存、加速传输等技术，提高网站或应用的访问速度和稳定性，为用户提供更好的体验。

## httpdns

HTTPDNS 是一种基于 HTTP 协议的 DNS 解析方式，通过 HTTP 协议来获取域名解析结果。

### 原理：

1. 客户端发起请求：当客户端请求一个域名时，先不去请求 DNS 服务器，而是直接向 HTTPDNS 服务器发起请求。
2. HTTPDNS 服务器解析 DNS：HTTPDNS 服务器接收到请求后，会解析域名并返回 IP 地址。
3. 返回 IP 地址：HTTPDNS 服务器将解析结果返回给客户端，客户端得到 IP 地址后可以直接访问该 IP 地址所对应的服务器。
4. 缓存解析结果：客户端可以将解析结果缓存起来，下次请求同一域名时可以直接使用缓存的 IP 地址，减少请求次数。

5. 客户端发起请求：当客户端需要解析特定的域名时，它会向 HTTPDNS 服务器发送 HTTP 请求。
6. DNS 服务器选择：客户端请求到达 HTTPDNS 服务器后，服务器会检查请求中的域名，并判断是否需要进行解析。如果需要解析，服务器将选择合适的 DNS 服务器进行域名解析。
7. DNS 解析：HTTPDNS 服务器向所选择的 DNS 服务器发送 DNS 解析请求，请求解析特定的域名。
8. 解析结果返回：DNS 服务器将域名解析的结果返回给 HTTPDNS 服务器。
9. HTTPDNS 服务器响应：HTTPDNS 服务器将收到的解析结果封装成 HTTP 响应，发送回客户端。
10. 客户端处理：客户端接收到 HTTPDNS 服务器的响应后，解析其中的 IP 地址，并将其用于后续的网络连接。

相比传统的 DNS 解析方式，HTTPDNS 的优势在于可以利用 HTTP 协议的特性，使用更快、更可靠的网络连接和解析方式。它可以绕过本地 DNS 缓存，减少 DNS 解析的延迟，提高域名解析的速度和可靠性。

### HTTPDNS 相比于传统的 DNS 解析方式，具有以下优势：

- 减少 DNS 解析时间：HTTPDNS 可以直接从 HTTPDNS 服务器获取解析结果，避免了请求 DNS 服务器的时间，减少了 DNS 解析时间。
- 避免 DNS 污染：HTTPDNS 可以避免 DNS 污染问题，因为 HTTPDNS 服务器是由第三方提供的，不受 DNS 污染的影响。
- 支持负载均衡：HTTPDNS 可以将同一域名解析到多个 IP 地址，实现负载均衡。
- 安全性高：HTTPDNS 可以防止 DNS 劫持和 DNS 欺骗，提高了网络安全性。

### httpdns 也需要用到 dns 服务器，那如何谈减少 DNS 解析的延迟呢？

相对于传统的 DNS 解析方式，HTTPDNS 通过优化网络连接和解析方式，可以在一定程度上减少延迟，提高解析速度和可靠性。以下是一些 HTTPDNS 的优势和应对延迟的方式：

1. 选择就近的 DNS 服务器：HTTPDNS 可以选择离用户地理位置更近的 DNS 服务器进行域名解析，减少网络延迟。
2. 优化服务器响应时间：HTTPDNS 服务提供商可以部署高性能的 DNS 服务器，并采取负载均衡和缓存等策略，以提高解析的效率和响应时间。
3. 缓存机制：类似传统 DNS 缓存，HTTPDNS 服务也可以使用缓存机制来存储解析结果，以减少重复解析的延迟。
4. 高可用性和容灾机制：HTTPDNS 服务提供商可以在不同地区和网络节点部署多个 DNS 服务器，实现高可用性和容灾，降低解析延迟和风险。

其实就是 httpdns 服务商，拦截域名解析请求，并使用自己的一套高性能的服务器去解析 dns。
