---
title: 'æ•°æ®ç»“æ„'
date: Fri May 12 2023 21:18:08 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
lastmod: '2023-05-09'
tags: ['æ•°æ®ç»“æ„', 'é€’å½’', 'è¿­ä»£']
draft: false
summary: 'è½¯ä»¶æ¶æ„çš„è§„åˆ™æ˜¯ç›¸åŒçš„ï¼ï¼ï¼'
layout: PostSimple
bibliography: references-data.bib
canonicalUrl: https://dume.vercel.app/blog/2023/clean-architecture
---

## å‰è¨€

## ç®—æ³•å½’ç±»

### åŒæŒ‡é’ˆæ³•ä¸æ»‘åŠ¨çª—å£ç®—æ³•

åŒæŒ‡é’ˆæ³•å’Œæ»‘åŠ¨çª—å£ç®—æ³•éƒ½æ˜¯è§£å†³æ•°ç»„æˆ–å­—ç¬¦ä¸²çš„é—®é¢˜çš„å¸¸ç”¨ç®—æ³•ï¼Œå®ƒä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š

- åŒæŒ‡é’ˆæ³•é€šå¸¸ç”¨äºè§£å†³æ•°ç»„æˆ–å­—ç¬¦ä¸²çš„æŸ¥æ‰¾ã€æ’åºã€å»é‡ç­‰é—®é¢˜ï¼Œè€Œæ»‘åŠ¨çª—å£ç®—æ³•é€šå¸¸ç”¨äºè§£å†³å­ä¸²æˆ–å­æ•°ç»„çš„é—®é¢˜ï¼Œä¾‹å¦‚æœ€é•¿å­ä¸²ã€æœ€å°è¦†ç›–å­ä¸²ç­‰ã€‚
- åŒæŒ‡é’ˆæ³•é€šå¸¸æ˜¯å°†ä¸¤ä¸ªæŒ‡é’ˆä»æ•°ç»„æˆ–å­—ç¬¦ä¸²çš„ä¸¤ç«¯å¼€å§‹ç§»åŠ¨ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚è°ƒæ•´æŒ‡é’ˆçš„ç§»åŠ¨æ–¹å¼ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„ç»“æœã€‚è€Œæ»‘åŠ¨çª—å£ç®—æ³•é€šå¸¸æ˜¯ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œé€šè¿‡ç§»åŠ¨çª—å£çš„èµ·ç‚¹å’Œç»ˆç‚¹æ¥å¯»æ‰¾ç¬¦åˆè¦æ±‚çš„å­ä¸²æˆ–å­æ•°ç»„ã€‚
- åŒæŒ‡é’ˆæ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ˜¯ O(n)ï¼Œå› ä¸ºéœ€è¦éå†æ•´ä¸ªæ•°ç»„æˆ–å­—ç¬¦ä¸²ã€‚è€Œæ»‘åŠ¨çª—å£ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ˜¯ O(n)ï¼Œå› ä¸ºæ¯ä¸ªå…ƒç´ åªä¼šè¢«è®¿é—®ä¸€æ¬¡ã€‚
- åŒæŒ‡é’ˆæ³•çš„ç©ºé—´å¤æ‚åº¦é€šå¸¸æ˜¯ O(1)ï¼Œå› ä¸ºåªéœ€è¦ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆã€‚è€Œæ»‘åŠ¨çª—å£ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦é€šå¸¸æ˜¯ O(k)ï¼Œå…¶ä¸­ k æ˜¯çª—å£çš„å¤§å°ã€‚

æ€»çš„æ¥è¯´ï¼ŒåŒæŒ‡é’ˆæ³•å’Œæ»‘åŠ¨çª—å£ç®—æ³•éƒ½æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ç®—æ³•ï¼Œå…·ä½“é€‰æ‹©å“ªç§ç®—æ³•å–å†³äºé—®é¢˜çš„å…·ä½“è¦æ±‚ã€‚

## ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•°ç»„

- äºŒåˆ†æŸ¥æ‰¾ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn)ã€‚
- åŒæŒ‡é’ˆæ³•ï¼šç”¨ä¸¤ä¸ªæŒ‡é’ˆä»æ•°ç»„çš„ä¸¤ç«¯å¼€å§‹å‘ä¸­é—´ç§»åŠ¨ï¼Œè§£å†³ä¸€äº›æ•°ç»„ç›¸å…³çš„é—®é¢˜ï¼Œå¦‚æ±‚å’Œã€æŸ¥æ‰¾ç­‰ã€‚
- æ»‘åŠ¨çª—å£ï¼šåœ¨æ•°ç»„æˆ–å­—ç¬¦ä¸²ä¸Šï¼Œé€šè¿‡ç»´æŠ¤ä¸€ä¸ªçª—å£æ¥è§£å†³ä¸€äº›å­ä¸²æˆ–å­åºåˆ—ç›¸å…³çš„é—®é¢˜ã€‚
- å‰ç¼€å’Œï¼šç”¨äºå¿«é€Ÿæ±‚è§£è¿ç»­å­æ•°ç»„çš„å’Œï¼Œé€šè¿‡é¢„å¤„ç†æ•°ç»„çš„å‰ç¼€å’Œï¼Œå¯ä»¥åœ¨ O(1)æ—¶é—´å†…æ±‚è§£ä»»æ„å­æ•°ç»„çš„å’Œã€‚
- åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼šå°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ï¼Œå¯ä»¥ç”¨äºå½’å¹¶æ’åºã€‚
- å¿«é€Ÿæ’åºï¼šé€šè¿‡åˆ†æ²»æ³•çš„æ€æƒ³ï¼Œå°†ä¸€ä¸ªæ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œåˆ†åˆ«æ’åºï¼Œæœ€ç»ˆåˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ O(nlogn)ã€‚
- æ¡¶æ’åºï¼šå°†å¾…æ’åºæ•°ç»„å…ƒç´ æ ¹æ®æŸä¸ªç‰¹å¾å€¼åˆ†é…åˆ°ä¸åŒçš„æ¡¶ä¸­ï¼Œå†å¯¹æ¯ä¸ªæ¡¶å†…çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œæœ€ç»ˆå°†æ‰€æœ‰æ¡¶åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ã€‚
- è®¡æ•°æ’åºï¼šç»Ÿè®¡å¾…æ’åºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå†æ ¹æ®å…ƒç´ å‡ºç°çš„æ¬¡æ•°å°†å…ƒç´ æ”¾åˆ°ç›¸åº”çš„ä½ç½®ä¸Šï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ã€‚
- äºŒå‰å †ï¼šä¸€ç§åŸºäºå®Œå…¨äºŒå‰æ ‘çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç”¨äºå®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€å †æ’åºç­‰ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ O(nlogn)ã€‚
- åŠ¨æ€è§„åˆ’ï¼šé€šè¿‡å°†é—®é¢˜åˆ†è§£æˆå­é—®é¢˜çš„æ–¹å¼ï¼Œå¾—åˆ°æœ€ä¼˜è§£çš„ç®—æ³•ï¼Œå¯ä»¥ç”¨äºè§£å†³ä¸€äº›æ•°ç»„ç›¸å…³çš„é—®é¢˜ï¼Œå¦‚æœ€é•¿é€’å¢å­åºåˆ—ã€æœ€å¤§å­æ•°ç»„å’Œç­‰ã€‚

### æ•°ç»„çš„å‡ ç§åˆ›å»ºæ–¹å¼ï¼š

- Array.from(arrayLike[, mapFn[, thisArg]]) å°†ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚
- Array.of() åˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹

Array.from(arrayLike[, mapFn[, thisArg]]) çš„ç”¨æ³•ï¼š

```js
// ğŸ’¥ 1ã€å­—ç¬¦ä¸²ä¼šè¢«æ‹†åˆ†ä¸ºå•å­—ç¬¦æ•°ç»„
console.log(Array.from('Matt')) // ["M", "a", "t", "t"]

// ğŸ’¥ 2ã€Array.from()å¯¹ç°æœ‰æ•°ç»„æ‰§è¡Œæµ…å¤åˆ¶
const a1 = [1, 2, 3, 4]
const a2 = Array.from(a1) // [1, 2, 3, 4]

// ğŸ’¥ 3ã€å¯ä»¥ä½¿ç”¨ä»»ä½•å¯è¿­ä»£å¯¹è±¡
const iter = {
  // ES6å¼•å…¥äº†ä¸€æ‰¹å¸¸ç”¨å†…ç½®ç¬¦å·(well-known symbol)ï¼Œç”¨äºæš´éœ²è¯­è¨€å†…éƒ¨çš„è¡Œä¸ºï¼Œ
  // å¼€å‘è€… å¯ä»¥ç›´æ¥è®¿é—®ã€é‡å†™æˆ–æ¨¡æ‹Ÿè¿™äº›è¡Œä¸ºã€‚è¿™äº›å†…ç½®ç¬¦å·éƒ½ä»¥ Symbol å·¥å‚å‡½æ•°å­—ç¬¦ä¸²å±æ€§çš„å½¢å¼å­˜åœ¨ã€‚
  *[Symbol.iterator]() {
    yield 1
    yield 2
    yield 3
    yield 4
  },
}
console.log(Array.from(iter)) // [1, 2, 3, 4]

// ğŸ’¥ 4ã€åƒæ•°ç»„ç»“æ„ -ã€‹é¸­å­æ¨¡å‹
const arrayLike = {
  1: 1,
  length: 2,
}
console.log(Array.from(arrayLike)) // [undefined, 1]

// ğŸ’¥ 5ã€Array.from() çš„å‚æ•°2ï¼Œå¯ä»¥å®ç°mapçš„åŠŸèƒ½ï¼Œä¸åƒ Array.from().map()é‚£æ ·å…ˆåˆ›å»ºä¸€ä¸ªä¸­é—´æ•°ç»„ï¼Œå¦‚ä¸‹ï¼š
const a1 = [1, 2, 3, 4]
const a2 = Array.from(a1, (x) => x ** 2) // [1, 4, 9, 16]

// 6ã€Array.from() çš„å‚æ•°3ï¼Œå¯ä»¥æŒ‡å®šthisï¼Œå¦‚ä¸‹ï¼š
const a1 = [1, 2, 3, 4]
const a3 = Array.from(
  a1,
  function (x) {
    return x ** this.exponent
  },
  { exponent: 2 }
)
console.log(a3) // [1, 4, 9, 16]
// æ³¨æ„ï¼šä¸æ”¯æŒç®­å¤´å‡½æ•°

// ğŸ’¥ 7ã€Array.of
console.log(Array.of(1, 2, 3, 4)) // [1, 2, 3, 4]
console.log(Array.of(undefined)) // [undefined]

// å¯¹æ¯”Array()ï¼Œ
Array(2) // [, ,]
Array.of(2) // [2]
```

### æ•°ç»„å¸¸ç”¨çš„æ–¹æ³• ğŸ’¥ ğŸ”¥

1. push() - å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶**è¿”å›æ–°çš„é•¿åº¦**
2. pop() - ç§»é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶**è¿”å›è¯¥å…ƒç´ çš„å€¼**
3. shift() - ç§»é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶**è¿”å›è¯¥å…ƒç´ çš„å€¼**
4. unshift() - å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶**è¿”å›æ–°çš„é•¿åº¦**
5. concat() - å°†ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ— è¿”å›å€¼
6. slice() - è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ŒåŒ…å«ä»å¼€å§‹åˆ°ç»“æŸï¼ˆä¸åŒ…æ‹¬ç»“æŸï¼‰çš„æ‰€æœ‰å…ƒç´ 
7. splice() - åœ¨æŒ‡å®šä½ç½®åˆ é™¤æˆ–æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ 
8. reverse() - åè½¬æ•°ç»„çš„é¡ºåº
9. sort() - å¯¹æ•°ç»„è¿›è¡Œæ’åº
10. indexOf() - è¿”å›æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1
11. lastIndexOf() - è¿”å›æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­æœ€åä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1
12. forEach() - å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°
13. map() - å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„
14. filter() - è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æ»¡è¶³æŒ‡å®šæ¡ä»¶çš„æ‰€æœ‰å…ƒç´ 
15. reduce() - å¯¹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç´¯ç§¯å€¼

```js
// ğŸ’¥ 1ã€push()ï¼šå‘æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ã€‚
let arr = [1, 2, 3]
arr.push(7) // 4 ğŸ”¥ è¿”å›æ•°ç»„é•¿åº¦
console.log(arr) // [1, 2, 3, 7]

// ğŸ’¥ 2ã€pop()ï¼šä»æ•°ç»„æœ«å°¾åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚
let arr = [1, 2, 3]
let last = arr.pop()
console.log(last) // 3  è¿”å›å…ƒç´ çš„å€¼
console.log(arr) // [1, 2]

// ğŸ’¥ 3ã€shift()ï¼šä»æ•°ç»„å¼€å¤´åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚
let arr = [1, 2, 3]
let first = arr.shift()
console.log(first) // 1
console.log(arr) // [2, 3]

// ğŸ’¥ 4ã€unshift()ï¼šå‘æ•°ç»„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ–°æ•°ç»„çš„é•¿åº¦ã€‚
let arr = [1, 2, 3]
arr.unshift(0, -1) // ğŸ”¥ å¯ä»¥æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ª, è¿”å› é•¿åº¦
console.log(arr) // [-1, 0, 1, 2, 3]

// ğŸ’¥ 5ã€splice()ï¼šä»æ•°ç»„ä¸­åˆ é™¤æˆ–æ·»åŠ å…ƒç´ ã€‚ğŸ”¥ è¿”å›åˆ é™¤çš„å€¼ï¼Œæ•°ç»„
let arr = [1, 2, 3]
arr.splice(1, 1, 4, 5) // ğŸ”¥ ä»ç´¢å¼•1çš„ä½ç½®ï¼Œåˆ é™¤ 1ä¸ªå€¼ï¼Œå¹¶æ’å…¥ 4,5ä¸¤ä¸ªå€¼
console.log(arr) // [1, 4, 5, 3]
arr.splice(-1, 1) // [3]  ğŸ”¥ ä»æ•°ç»„æœ«å°¾å¼€å§‹
console.log(arr) // [1, 4, 5]

// ğŸ’¥ 6ã€slice()ï¼šè¿”å›æ•°ç»„çš„ä¸€ä¸ªå­é›†ã€‚å‰é—­åå¼€
let arr = [1, 2, 3, 4, 5, 6, 7, 8]
let subArr = arr.slice(1, 4) //
console.log(subArr) // [2, 3, 4]
// å¦‚æœä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºä»æ•°ç»„æœ«å°¾å¼€å§‹
// array.slice(-2,-1) è¡¨ç¤ºä»æ•°ç»„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼ˆåŒ…æ‹¬è¯¥å…ƒç´ ï¼‰å¼€å§‹æˆªå–ï¼Œä¸€ç›´æˆªå–åˆ°æ•°ç»„å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆä¸åŒ…æ‹¬è¯¥å…ƒç´ ï¼‰ã€‚
let sub1Arr = arr.slice(2, -1) // [3, 4, 5, 6, 7] ğŸ”¥ æ•´æ•°ç¬¬äºŒä¸ªï¼Œåˆ°å€’æ•°ç¬¬ä¸€ä¸ª
console.log(sub1Arr)
let sub2Arr = arr.slice(-2, -1) // [7] ğŸ”¥
let sub3Arr = arr.slice(-2, -3) // [] ğŸ”¥ å¼€å§‹æ¯”ç»“æŸè¿˜è¦åã€‚ã€‚ã€‚ä¸å­˜åœ¨è¿™æ ·çš„å€¼ï¼Œæ‰€ä»¥ä¸ºç©º

// ğŸ’¥ 7ã€concat()ï¼šè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ï¼Œå¹¶è¿”å›æ–°æ•°ç»„
let arr1 = [1, 2, 3]
let arr2 = [4, 5]
let newArr = arr1.concat(arr2, '66') // ğŸ”¥ ä¸éœ€è¦è§£æ„å³å¯ï¼Œè¿˜æ”¯æŒå•ä¸ªå€¼
console.log(newArr) // [1, 2, 3, 4, 5, '66']

// ğŸ’¥ 8ã€indexOf()ï¼šè¿”å›æ•°ç»„ä¸­æŒ‡å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1ã€‚
let arr = [1, 2, 3, 4, 5]
let index = arr.indexOf(3)
console.log(index) // 2
let index1 = arr.indexOf(3, 3) // ğŸ”¥ å‚æ•°2æ˜¯ï¼Œä»å“ªä¸ªç´¢å¼•å¼€å§‹æŸ¥è¯¢ï¼Œä¸æ”¯æŒè´Ÿæ•°
console.log(index1) // -1

// ğŸ’¥ 9ã€lastIndexOf()ï¼šè¿”å›æ•°ç»„ä¸­æŒ‡å®šå…ƒç´ çš„æœ€åä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1ã€‚
let arr = [1, 2, 3, 4, 3]
let index = arr.lastIndexOf(3)
console.log(index) // 4 å€’æ•°ç¬¬ä¸€ä¸ªå°±æ˜¯
let index1 = arr.lastIndexOf(3, 2)
console.log(index1) // 2 ä»å€’æ•°ç¬¬äºŒä¸ªå¾€å‰æ‰¾ï¼Œä¹Ÿå°±æ˜¯ä¸­é—´çš„3ï¼Œç´¢å¼• 2

// ğŸ’¥ 10ã€å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æŒ‡å®šçš„å‡½æ•°ã€‚
let arr = [1, 2, 3]
arr.forEach(function (item) {
  console.log(item)
})

// ğŸ’¥ 11ã€reduce()ï¼šæ–¹æ³•æ˜¯ JavaScript æ•°ç»„çš„ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæŒ‡å®šçš„æ“ä½œï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªç´¯åŠ çš„ç»“æœã€‚
// reduce() æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š
// 1. ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•°ï¼š
//    ç´¯åŠ å™¨ï¼ˆaccumulatorï¼‰ï¼šåˆå§‹å€¼æˆ–ä¸Šä¸€æ¬¡å›è°ƒå‡½æ•°è¿”å›çš„å€¼ã€‚
//    å½“å‰å€¼ï¼ˆcurrentValueï¼‰ï¼šå½“å‰å…ƒç´ çš„å€¼ã€‚
//    å½“å‰ç´¢å¼•ï¼ˆindexï¼‰ï¼šå½“å‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚
//    æ•°ç»„ï¼ˆarrayï¼‰ï¼šè°ƒç”¨ reduce() æ–¹æ³•çš„æ•°ç»„æœ¬èº«ã€‚
// 2. ä¸€ä¸ªå¯é€‰çš„åˆå§‹å€¼ï¼ˆinitialValueï¼‰ï¼Œç”¨äºä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨å›è°ƒå‡½æ•°æ—¶çš„ç´¯åŠ å™¨çš„å€¼ã€‚å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåˆå§‹å€¼ã€‚
// array.reduce(callback[, initialValue])
const numbers = [1, 2, 3, 4, 5]
const sum = numbers.reduce((accumulator, currentValue) => {
  return accumulator + currentValue
}, 0)
console.log(sum) // 15

// ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå–å‡ºåµŒå¥—å¯¹è±¡é‡Œçš„å€¼
const val = 'a.b.1.d'.split('.').reduce(
  (acc, cur) => {
    return acc[cur]
  },
  { a: { b: [{}, { d: 'cool' }] } }
)
console.log(val) // cool

// ç»™å®šä¸€ä¸ªåµŒå¥—æ•°ç»„ï¼Œæ”¶é›†äºŒçº§æ•°ç»„åˆ—è¡¨
const arr = [
  {
    list: [{ a: 1 }],
  },
  {
    list: [{ b: 1 }, { c: 1 }],
  },
]
const val = arr.reduce((acc, cur) => {
  return acc.concat(cur.list)
}, [])
console.log(val) // [{...}, {...}, {...}]

// ğŸ’¥ 12ã€sort() æ’åºï¼ŒåŸä½ï¼ˆin-placeï¼‰æ’åº ä¿®æ”¹åŸæ•°ç»„
// reverse ä¸å¤Ÿçµæ´»ï¼Œæ‰€ä»¥æ‰æœ‰äº† sort
// é»˜è®¤æƒ…å†µä¸‹ï¼Œsort()ä¼šæŒ‰**ç…§å‡åºé‡æ–°æ’åˆ—æ•°ç»„å…ƒç´ **ï¼Œå³æœ€å°çš„å€¼åœ¨å‰é¢ï¼Œæœ€å¤§çš„å€¼åœ¨åé¢ã€‚
// ä¸ºæ­¤ï¼Œsort()ä¼šåœ¨æ¯ä¸€é¡¹ä¸Šè°ƒç”¨ String()è½¬å‹å‡½æ•°ï¼Œç„¶å**æ¯”è¾ƒå­—ç¬¦ä¸²**æ¥å†³å®šé¡ºåºã€‚å³ä½¿**æ•°ç»„çš„å…ƒç´ éƒ½æ˜¯æ•°å€¼ï¼Œä¹Ÿä¼šå…ˆæŠŠæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å†æ¯”è¾ƒã€æ’åº**ã€‚
let values = [0, 1, 5, 10, 15]
values.sort() // 0,1,10,15,5  ğŸ”¥ æ³¨æ„åªæ˜¯åœ¨æ¯ä¸€é¡¹ä¸Šå­—ç¬¦ä¸²åŒ–ï¼Œç„¶åæ’åº

// é»˜è®¤åªä¼šæ¯”è¾ƒå¼€å¤´çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè·å–unicodeç¼–ç 
'10'.charCodeAt(0) // 49
'5'.charCodeAt(0) // 53
'a'.charCodeAt() // 97
'A'.charCodeAt() // 65
String.fromCharCode(65) // A

// æ³¨æ„ï¼šåœ¨jså†…éƒ¨ï¼Œå­—ç¬¦ä»¥UTF-16æ ¼å¼å­˜å‚¨ï¼Œä¹Ÿå°±æ˜¯2å­—èŠ‚ã€‚
// ä½†å¯¹äºé‚£äº›éœ€è¦4å­—èŠ‚å­˜å‚¨çš„å­—ç¬¦ï¼Œä¸Šè¿°æ–¹æ³•æ— æ³•è¯†åˆ«ï¼Œ
let s = 'ğ ®·a'

// è¢«å¤„ç†é”™è¯¯
s.length // 3 é”™è¯¯
s.charAt(0) // '' ï¼Œè¯»ä¸å‡ºæ¥
s.charAt(1) // '' ï¼Œè¯»ä¸å‡ºæ¥
s.charCodeAt(0) // 55362ï¼Œå‰ä¸¤ä¸ªå­—èŠ‚
s.charCodeAt(1) // 57271ï¼Œåä¸¤ä¸ªå­—èŠ‚

// è¢«æ­£ç¡®å¤„ç†ï¼Œ'ğ ®·a'è§†ä¸ºä¸‰ä¸ªå­—ç¬¦ï¼Œâ€œğ ®·â€çš„åè¿›åˆ¶ç ç‚¹134071ï¼Œåä¸¤ä¸ªå­—èŠ‚ï¼Œæœ€åæ˜¯a
s.codePointAt(0) // 134071ï¼Œè¢«æˆªå–ä¸”å®Œæ•´çš„è¯»å‡ºæ¥äº†
s.codePointAt(1) // 57271ï¼Œåä¸¤ä¸ªå­—èŠ‚
s.codePointAt(2) // 97

// å¦‚ä½•å¤„ç†é•¿åº¦å‘¢ï¼Ÿ
// ES6æä¾›äº†codePointAtæ–¹æ³•ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç† 4 ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹ã€‚
// å 2ä¸ªå­—èŠ‚çš„å­—ç¬¦æœ€å¤§çš„ç ç‚¹ä¸º0xFFFF(åè¿›åˆ¶ä¸º65536ï¼‰ã€‚è¶…è¿‡65536ï¼ˆ0xFFFFï¼‰çš„å­—ç¬¦å 4ä¸ªå­—èŠ‚ã€‚
//  ğŸ”¥ ä¸€ä¸ªå­—èŠ‚æ˜¯8ä½ï¼Œä¹Ÿå°±æ˜¯ 2^8 = 256ï¼Œå°äº256éƒ½æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œå¤§äº256 å°äº 256 * 2^8 = 65536 å°±æ˜¯ä¸¤å­—èŠ‚
// å¯ä»¥å€ŸåŠ©for...ofï¼Œå…¶å¯ä»¥åˆ©ç”¨codePointAtå¤„ç†4å­—èŠ‚å­—ç¬¦
let len = 0
for (let char of s) {
  if (char.codePointAt(0) > 0xffff) {
    len += 4
  } else if (char.codePointAt(0) > 0x00ff) {
    len += 2
  } else {
    len += 1
  }
}
console.log(len) // 5

// æˆ–è€…
var textEncoder = new TextEncoder('utf-8')
textEncoder.encode('ğ ®·a').length // 5
```

### åˆå¹¶ä¸¤ä¸ªæ•°ç»„

```js
function mergeSortedArrays(arr1, arr2) {
  let mergedArr = []
  let i = 0
  let j = 0

  while (i < arr1.length && j < arr2.length) {
    if (arr1[i] < arr2[j]) {
      mergedArr.push(arr1[i])
      i++
    } else {
      mergedArr.push(arr2[j])
      j++
    }
  }

  while (i < arr1.length) {
    mergedArr.push(arr1[i])
    i++
  }

  while (j < arr2.length) {
    mergedArr.push(arr2[j])
    j++
  }

  return mergedArr
}
```

è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªæœ‰åºæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆå¹¶åçš„æœ‰åºæ•°ç»„ã€‚å®ƒä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ j æ¥æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¹¶å°†è¾ƒå°çš„å…ƒç´ æ·»åŠ åˆ°åˆå¹¶æ•°ç»„ä¸­ã€‚ä¸€æ—¦ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆåˆ°è¾¾å…¶æœ«å°¾ï¼Œè¯¥å‡½æ•°å°†ç»§ç»­å°†å¦ä¸€ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°åˆå¹¶æ•°ç»„ä¸­ã€‚æœ€åï¼Œå®ƒè¿”å›åˆå¹¶åçš„æœ‰åºæ•°ç»„ã€‚

### å®ç°ä¸€ä¸ªæ•°ç»„çš„å…¨æ’åˆ—

```js
function permute(input) {
  var permArr = [],
    usedChars = []

  function permuteHelper(input) {
    for (var i = 0; i < input.length; i++) {
      var ch = input.splice(i, 1)[0]
      usedChars.push(ch)

      if (input.length == 0) {
        permArr.push(usedChars.slice())
      }

      permuteHelper(input)
      input.splice(i, 0, ch)
      usedChars.pop()
    }
    return permArr
  }

  return permuteHelper(input)
}

// ç¤ºä¾‹ç”¨æ³•
console.log(permute([1, 2, 3]))
```

1. é¦–å…ˆï¼Œå‡½æ•°éå†è¾“å…¥å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ï¼Œå¹¶å°†å…¶ä»è¾“å…¥å­—ç¬¦ä¸²ä¸­åˆ é™¤ã€‚
2. ç„¶åï¼Œå°†è¯¥å­—ç¬¦æ·»åŠ åˆ° usedChars æ•°ç»„ä¸­ï¼Œå¹¶æ£€æŸ¥è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯å¦ä¸º 0ã€‚
3. å¦‚æœæ˜¯ï¼Œå°† usedChars æ•°ç»„çš„å‰¯æœ¬æ·»åŠ åˆ° permArr æ•°ç»„ä¸­ã€‚
4. ç„¶åï¼Œç»§ç»­é€’å½’è°ƒç”¨ permuteHelper å‡½æ•°ï¼Œç›´åˆ°æ‰€æœ‰æ’åˆ—éƒ½è¢«ç”Ÿæˆã€‚åœ¨è¿”å›åˆ°ä¸Šä¸€å±‚é€’å½’æ—¶ï¼Œå°†è¯¥å­—ç¬¦é‡æ–°æ·»åŠ åˆ°è¾“å…¥å­—ç¬¦ä¸²ä¸­ï¼Œå¹¶å°†å…¶ä» usedChars æ•°ç»„ä¸­åˆ é™¤ã€‚

æœ€åï¼Œå‡½æ•°è¿”å› permuteHelper å‡½æ•°çš„ç»“æœï¼Œå³æ‰€æœ‰æ’åˆ—çš„æ•°ç»„ã€‚

### æ•°ç»„æ”¯æŒè´Ÿç´¢å¼•

```js
Array.prototype.get = function (index) {
  if (index < 0) {
    return this[this.length + index]
  } else {
    return this[index]
  }
}

// ä½¿ç”¨è´Ÿç´¢å¼•è·å–æ•°ç»„å…ƒç´ 
const list = [1, 2, 3]
console.log(list.get(-1)) // è¾“å‡º 3
```

## ç¬¬äºŒéƒ¨åˆ†ï¼šé€’å½’

ç®€å•æ¥è¯´ï¼Œå‡½æ•°çš„é€’å½’è°ƒç”¨å°±æ˜¯è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå³ä¸€ä¸ªå‡½æ•°åœ¨è°ƒç”¨å…¶ä»–å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œåˆå‡ºç°äº†å¯¹è‡ªèº«çš„è°ƒç”¨ï¼Œè¿™ç§å‡½æ•°ç§°ä¸ºé€’å½’å‡½æ•°ã€‚

- ç›´æ¥è°ƒç”¨ï¼šf() -> f()
- é—´æ¥è°ƒç”¨ï¼šf() -> f1() -> f()

å…¶å®é€’å½’çš„æ€æƒ³ï¼Œæ˜¯åˆ†è€Œæ²»ä¹‹ï¼Œè€Œä¸”æ¯æ¬¡çš„è¾“å…¥å€¼çš„èŒƒå›´éƒ½ä¼šå˜å°ï¼ŒçŸ¥é“è®¾ç½®çš„æ¡ä»¶æ»¡è¶³å³é€€å‡º

**ç¤ºä¾‹ä¸€ï¼šä»ç»™å®šçš„æ•°å­—å€’æ•°åˆ°æœ€å°çš„æ•°å­—ï¼Œæ¯æ¬¡å‡ 1ã€‚**

```js
function countDown(num) {
  if (num === 1) {
    return num
  }
  // console.log(num)

  // è¾“å…¥å€¼ï¼šæ¯æ¬¡éƒ½å‡å°‘
  return countDown(num - 1)
}
```

**ç¤ºä¾‹äºŒï¼šå¦‚ä½•è¯æ˜ä¸€ä¸ªæ•°å­—æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°**

- å¯ä»¥é€šè¿‡ num % 2 == 0
- è¿˜å¯ä»¥ï¼Œæ¯æ¬¡éƒ½ - 2ï¼Œæœ€åè‹¥æ˜¯ 1 å°±æ˜¯å¥‡æ•°ï¼Œè‹¥ä¸º 0ï¼Œåˆ™ä¸ºå¶æ•°

```js
const oddOrEven = (num) => {
  if (num === 0) {
    return 'Even'
  } else if (num === 1) {
    return 'Odd'
  } else {
    return oddOrEven(num - 2)
  }
}
console.log(oddOrEven(20)) // Even
console.log(oddOrEven(75)) // Odd
```

**ç¤ºä¾‹ä¸‰ï¼šè¾“å‡º 50 ä»¥å†…æ–æ³¢é‚£å¥‘æ•°åˆ—**

æ–æ³¢é‚£å¥‘é¢æ•°åˆ—çš„ç‰¹ç‚¹ï¼š`1,1,2,3,5,8,13`ï¼Œä»ç¬¬ä¸‰ä¸ªå€¼å¼€å§‹ï¼Œæ¯ä¸ªå€¼éƒ½æ˜¯å‰ä¸¤è€…çš„å’Œ

```js
const fib = (num) => {
  // åœæ­¢æ¡ä»¶
  if (num === 1 || num === 2) {
    return 1
  }

  // æ¯æ¬¡å‡å°èŒƒå›´
  return fib(num - 1) + fib(num - 2)
}

console.time()
fib(30)
console.timeEnd() // 13.01611328125ms
// ğŸ’¥ ğŸ”¥default: 16.1640625 ms

console.time()
fib(50)
console.timeEnd()
// ğŸ’¥ ğŸ”¥default: 130814.3779296875 ms

// 130814.3779296875 / 13.01611328125 = 10050.187417939003 å€
// 130814.3779296875 ä¹Ÿå°±æ˜¯ 130s -> 2åˆ†é’Ÿ10ç§’
```

```js
// ç”¨æ•°ç»„å­˜æ”¾å¯¹åº”çš„å€¼
const fib1 = (num) => {
  if (num < 2) {
    return [0, 1]
  }
  // æœ€åçš„ç»“æœè‚¯å®šæ˜¯ï¼štarget = fib1(num - 1) + fib1(num) ä¹Ÿå°±æ˜¯ å€’æ•°ç¬¬äºŒä½çš„å€¼ + å€’æ•°ç¬¬ä¸€ä½çš„å€¼
  //                target = fib1(num - 1) + (fib1(num - 1) + fib1(num - 2))

  // å€’æ•°ç¬¬äºŒä½
  let arr = fib1(num - 1)
  // åŠ å…¥æœ€åä¸€ä½çš„å€¼
  arr.push(arr[arr.length - 1] + arr[arr.length - 2])
  return arr
}

fib1(10) // [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
```

åœ¨ä½¿ç”¨é€’å½’çš„åœ°æ–¹ï¼Œéƒ½æ˜¯å¯ä»¥ä½¿ç”¨è¿­ä»£çš„ï¼Œè€Œä¸”æ•ˆç‡æ›´é«˜

é€’å½’æ•ˆç‡ä½ï¼Œæ˜¯å› ä¸ºæ¯æ¬¡é€’å½’éƒ½ä¼šåˆ›å»ºå‡½æ•°å¤‡ä»½ï¼Œå ç”¨å†…å­˜ç©ºé—´ï¼ŒåŒæ—¶ä¹Ÿæœ‰å †æ ˆæº¢å‡ºçš„é£é™©

æ‰€è°“è¿­ä»£ï¼Œä¸€èˆ¬å°±æ˜¯å¾ªç¯

```js
const fib2 = (num) => {
  let arr = [0, 1]
  if (num < 2) return arr.slice(0, n) // sliceè¯­æ³•æ˜¯ï¼š[)ï¼Œä¹Ÿå°±æ˜¯å‰é—­åå¼€

  // å¤§äº2ä¹‹åï¼Œåˆ™éƒ½æ˜¯ä¹‹å‰çš„ç´¯åŠ 
  for (let i = 2; i < num; i++) {
    arr.push(arr[i - 1] + arr[i - 2])
  }

  return arr
}
fib2(10) // [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
fib2(5) // [0, 1, 1, 2, 3]
```

```js
// const fib3Error = (num) => {
//   let result = 0
//   if (!num) {
//     return 0
//   } else if (num === 1) {
//     return 1
//   }

//   for (let i = 2; i < num; i++) {
//     result += num[i-1] + num[i-2]  // âŒâŒâŒ å¤§é”™ï¼Œnumæ˜¯å…·ä½“çš„æ•°å­—ï¼Œä¸æ˜¯æ–æ³¢é‚£å¥‘é¢æ•°åˆ—
//   }

//   return result
// }
// console.log(fib3([]))  // NaN âŒâŒâŒâŒ

function fibonacciSum(n) {
  let sum = 0
  let a = 0
  let b = 1

  for (let i = 0; i < n; i++) {
    // ç´¯åŠ 
    sum += b
    // æ¨¡æ‹Ÿæ–æ³¢é‚£å¥‘æ•°çš„è®¡ç®—
    let temp = a + b
    a = b
    b = temp
  }

  return sum
}

console.log(fibonacciSum(10)) // è¾“å‡ºï¼š143
```

é€’å½’çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾

- å›æ¨è¿‡ç¨‹
- é€’æ¨è¿‡ç¨‹

![é€’å½’è¿‡ç¨‹](/static/images/recoursion-process.png)

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šåŠ¨æ€è§„åˆ’

åŠ¨æ€è§„åˆ’æ˜¯ä¸€ç§ç®—æ³•è®¾è®¡æŠ€æœ¯ï¼Œå®ƒæ˜¯è§£å†³ä¸€ç±»æœ€ä¼˜åŒ–é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯å°†åŸé—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œé€šè¿‡æ±‚è§£å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œå¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚

åŠ¨æ€è§„åˆ’çš„åŸç†å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. å®šä¹‰çŠ¶æ€ï¼šå°†åŸé—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œå¹¶å®šä¹‰æ¯ä¸ªå­é—®é¢˜çš„çŠ¶æ€ã€‚
2. å®šä¹‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šæ ¹æ®å­é—®é¢˜ä¹‹é—´çš„å…³ç³»ï¼Œå»ºç«‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚
3. ç¡®å®šè¾¹ç•Œæ¡ä»¶ï¼šç¡®å®šå­é—®é¢˜çš„è¾¹ç•Œæ¡ä»¶ï¼Œå³æœ€å°çš„å­é—®é¢˜çš„è§£ã€‚
4. æ±‚è§£æœ€ä¼˜è§£ï¼šæ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹å’Œè¾¹ç•Œæ¡ä»¶ï¼Œé€æ­¥æ±‚è§£å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œæœ€ç»ˆå¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚

åŠ¨æ€è§„åˆ’çš„ä¸»è¦ç‰¹ç‚¹æ˜¯å…·æœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚é‡å å­é—®é¢˜æŒ‡çš„æ˜¯æ¯ä¸ªå­é—®é¢˜éƒ½æœ‰å¤šä¸ªé‡å¤çš„å­é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ç¼“å­˜å·²ç»æ±‚è§£è¿‡çš„å­é—®é¢˜çš„è§£æ¥é¿å…é‡å¤è®¡ç®—ã€‚æœ€ä¼˜å­ç»“æ„æ€§è´¨æŒ‡çš„æ˜¯åŸé—®é¢˜çš„æœ€ä¼˜è§£å¯ä»¥é€šè¿‡å­é—®é¢˜çš„æœ€ä¼˜è§£æ¥æ±‚è§£ã€‚

åŠ¨æ€è§„åˆ’çš„åº”ç”¨å¹¿æ³›ï¼Œæ¯”å¦‚æœ€é•¿å…¬å…±å­åºåˆ—ã€èƒŒåŒ…é—®é¢˜ã€æœ€çŸ­è·¯å¾„é—®é¢˜ç­‰éƒ½å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£ã€‚

### å¦‚ä½•é«˜æ•ˆçš„ç»™å‡º åŠ¨æ€è§„åˆ’ç±»é—®é¢˜çš„è§£æ³•

1. ç†è§£é—®é¢˜çš„æœ¬è´¨ï¼šåŠ¨æ€è§„åˆ’ç®—æ³•æ˜¯**è§£å†³æœ€ä¼˜åŒ–é—®é¢˜çš„ä¸€ç§æ–¹æ³•**ï¼Œé€šå¸¸éœ€è¦å¯¹é—®é¢˜è¿›è¡ŒæŠ½è±¡å’Œå»ºæ¨¡ã€‚å› æ­¤ï¼Œç†è§£é—®é¢˜çš„æœ¬è´¨å’Œç‰¹ç‚¹æ˜¯éå¸¸é‡è¦çš„ï¼Œåªæœ‰æ·±å…¥ç†è§£é—®é¢˜ï¼Œæ‰èƒ½å¤Ÿæœ‰æ•ˆåœ°è®¾è®¡å’Œå®ç°åŠ¨æ€è§„åˆ’ç®—æ³•ã€‚
2. ç¡®å®šçŠ¶æ€å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šåŠ¨æ€è§„åˆ’ç®—æ³•çš„æ ¸å¿ƒæ˜¯**çŠ¶æ€å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹**ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡åŠ¨æ€è§„åˆ’ç®—æ³•æ—¶ï¼Œéœ€è¦æ˜ç¡®å®šä¹‰çŠ¶æ€ï¼Œå¹¶ç¡®å®šçŠ¶æ€ä¹‹é—´çš„è½¬ç§»å…³ç³»ã€‚è¿™é€šå¸¸éœ€è¦ä¸€å®šçš„æ•°å­¦å»ºæ¨¡å’Œåˆ†æèƒ½åŠ›ã€‚
3. åˆ©ç”¨å¤‡å¿˜å½•å’Œé€’å½’ï¼š**åŠ¨æ€è§„åˆ’ç®—æ³•é€šå¸¸éœ€è¦è§£å†³å¤§é‡çš„å­é—®é¢˜ï¼Œå› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•å’Œé€’å½’çš„æ–¹æ³•æ¥é¿å…é‡å¤è®¡ç®—ã€‚å¤‡å¿˜å½•å¯ä»¥è®°å½•å·²ç»è®¡ç®—è¿‡çš„ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚é€’å½’å¯ä»¥å°†é—®é¢˜åˆ†è§£æˆæ›´å°çš„å­é—®é¢˜ï¼Œ**ä¾¿äºæ±‚è§£ã€‚
4. ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ï¼šåŠ¨æ€è§„åˆ’ç®—æ³•**é€šå¸¸éœ€è¦ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„æˆ–è€…æ›´å¤§çš„ç©ºé—´æ¥è®°å½•çŠ¶æ€å’Œè½¬ç§»æ–¹ç¨‹**ã€‚ä¸ºäº†ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ï¼Œå¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„æˆ–è€…çŠ¶æ€å‹ç¼©çš„æ–¹æ³•æ¥å‡å°‘ç©ºé—´å ç”¨ã€‚
5. åˆ©ç”¨ä¼˜åŒ–æŠ€å·§ï¼šåŠ¨æ€è§„åˆ’ç®—æ³•é€šå¸¸éœ€è¦è¿›è¡Œä¸€äº›ä¼˜åŒ–ï¼Œä¾‹å¦‚å‰ªæã€è´ªå¿ƒã€äºŒåˆ†ç­‰æŠ€å·§ã€‚è¿™äº›æŠ€å·§å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«åœ°æ±‚è§£é—®é¢˜ï¼Œæé«˜ç®—æ³•æ•ˆç‡ã€‚

- å‰ªæï¼šåœ¨åŠ¨æ€è§„åˆ’è¿‡ç¨‹ä¸­ï¼ŒæŸäº›çŠ¶æ€çš„è®¡ç®—å¯èƒ½ä¼šè¢«é‡å¤æ‰§è¡Œï¼Œé€ æˆæ—¶é—´å¤æ‚åº¦çš„å¢åŠ ã€‚å‰ªæå°±æ˜¯é€šè¿‡æŸäº›æ–¹æ³•ï¼Œé¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œä»è€Œæé«˜ç®—æ³•çš„æ•ˆç‡ã€‚
- è´ªå¿ƒï¼šè´ªå¿ƒç®—æ³•æ˜¯ä¸€ç§åŸºäºè´ªå¿ƒç­–ç•¥çš„ç®—æ³•ï¼Œå®ƒåœ¨æ¯ä¸€æ­¥éƒ½é€‰æ‹©å½“å‰çŠ¶æ€ä¸‹çš„æœ€ä¼˜è§£ï¼Œä»è€Œå¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚åœ¨åŠ¨æ€è§„åˆ’ä¸­ï¼Œè´ªå¿ƒç®—æ³•å¯ä»¥ç”¨æ¥ä¼˜åŒ–çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå‡å°‘çŠ¶æ€çš„æ•°é‡å’Œè®¡ç®—é‡ã€‚

### æ¥é›¨æ°´

é¢˜ç›®ï¼šç»™å®š n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚ã€åŠ›æ‰£ 42 é¢˜ã€‘

- å¯ä»¥ç†è§£ä¸ºï¼Œä¸€æ’é«˜ä½ä¸åŒçš„é˜¶æ¢¯ï¼Œä¸‹é›¨åï¼Œé˜¶æ¢¯é‡Œå¯ä»¥å­˜å¤šå°‘æ°´
- åªæœ‰ä½çš„æŸ±å­ï¼Œä¹Ÿå°±æ˜¯å½¢æˆå‘ï¼Œæ‰å¯èƒ½å­˜æ°´ã€‚ã€‚ã€‚æœ¨æ¡¶æ•ˆåº”
- åŒæŒ‡é’ˆï¼Œä»ä¸¤ä¾§å¾€é‡Œéå†ï¼Œç„¶ååˆ¤æ–­åŒæŒ‡é’ˆæŒ‡å‘çš„æŸ±å­ï¼Œè°é«˜è°ä½ï¼Œ
- éœ€è®°å½•æ¯æ¬¡çš„æœ€é«˜é«˜åº¦
- è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)ã€‚

```js
const trap = (heights) => {
  let left = 0,
    right = heights.length - 1 // å·¦å³æŒ‡é’ˆç´¢å¼•
  let maxLeft = 0,
    maxRight = 0 // å·¦å³æœ€å¤§å€¼ï¼Œå…¶å®è¿™é‡Œæœ€å¤§å€¼çš„æ„ä¹‰æ˜¯ï¼šå¦‚æœæ¯”ä»–å°æ‰å¯èƒ½æœ‰è°
  let results = 0 // ç»“æœ

  // åŒæŒ‡é’ˆï¼Œä½¿ç”¨whileï¼Œè¿è¡Œæ¡ä»¶ï¼šå·¦ä¾§ç´¢å¼•å°äºå³ä¾§ç´¢å¼•
  while (left < right) {
    // åˆ¤æ–­ï¼Œä¸¤ä¾§æŒ‡é’ˆï¼Œè°å°
    if (heights[left] < heights[right]) {
      // å·¦ä¾§å°ï¼Œåˆ™ç»Ÿè®¡å·¦ä¾§çš„å­˜æ°´é‡
      if (heights[left] > maxLeft) {
        maxLeft = heights[left]
      } else {
        // æ¯”æœ€å¤§å€¼å°ï¼Œè¯´æ˜å½¢æˆäº†æ´¼åœ°
        results += maxLeft - heights[left]
      }
      // æŒ‡é’ˆç§»åŠ¨
      left++
    } else {
      if (heights[right] > maxRight) {
        maxRight = heights[right]
      } else {
        results += maxRight - heights[right]
      }
      right--
    }
  }
  return results
}
const heights = [2, 1, 2]
console.log(trap(heights)) // 1
console.log(trap([3, 1, 3])) // 2
```

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šå­—ç¬¦ä¸²

- åŒæŒ‡é’ˆç®—æ³•ï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘å­—ç¬¦ä¸²çš„ä¸åŒä½ç½®ï¼Œé€šè¿‡ç§»åŠ¨æŒ‡é’ˆæ¥è§£å†³é—®é¢˜ï¼Œä¾‹å¦‚åˆ¤æ–­å›æ–‡å­—ç¬¦ä¸²ã€æœ€é•¿å›æ–‡å­ä¸²ç­‰é—®é¢˜ã€‚
- åŠ¨æ€è§„åˆ’ç®—æ³•ï¼šé€šè¿‡æ‹†åˆ†é—®é¢˜ä¸ºå­é—®é¢˜ï¼Œç„¶åé€šè¿‡é€’æ¨æ±‚è§£çš„æ–¹å¼å¾—åˆ°æœ€ç»ˆçš„è§£ï¼Œä¾‹å¦‚æœ€é•¿å…¬å…±å­åºåˆ—ã€ç¼–è¾‘è·ç¦»ç­‰é—®é¢˜ã€‚
- KMP ç®—æ³•ï¼šé€šè¿‡é¢„å¤„ç†æ¨¡å¼å­—ç¬¦ä¸²çš„ä¿¡æ¯ï¼Œç„¶ååœ¨åŒ¹é…è¿‡ç¨‹ä¸­åˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥è·³è¿‡ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œä»è€Œæé«˜åŒ¹é…æ•ˆç‡ã€‚
- å“ˆå¸Œç®—æ³•ï¼šé€šè¿‡å°†å­—ç¬¦ä¸²æ˜ å°„åˆ°ä¸€ä¸ªå“ˆå¸Œå€¼ä¸Šï¼Œå¯ä»¥å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ã€‚
- Trie æ ‘ç®—æ³•ï¼šé€šè¿‡æ„å»ºä¸€ä¸ªæ ‘å½¢ç»“æ„æ¥å­˜å‚¨å­—ç¬¦ä¸²é›†åˆï¼Œå¯ä»¥å¿«é€Ÿåœ°æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚å‰ç¼€åŒ¹é…ã€å­—ç¬¦ä¸²æ’åºç­‰é—®é¢˜ã€‚
- çº¿æ®µæ ‘ç®—æ³•ï¼šé€šè¿‡å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼è¡¨ç¤ºï¼Œå¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤åŒºé—´ä¿¡æ¯ï¼Œä¾‹å¦‚åŒºé—´æœ€å¤§å€¼ã€åŒºé—´å’Œç­‰é—®é¢˜ã€‚
- åç¼€æ•°ç»„ç®—æ³•ï¼šé€šè¿‡å°†å­—ç¬¦ä¸²çš„æ‰€æœ‰åç¼€æ’åºï¼Œå¯ä»¥å¿«é€Ÿåœ°æ±‚è§£å¤šç§å­—ç¬¦ä¸²é—®é¢˜ï¼Œä¾‹å¦‚æœ€é•¿é‡å¤å­ä¸²ã€æœ€é•¿å…¬å…±å‰ç¼€ç­‰é—®é¢˜ã€‚

### åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²

ä»ä¸­é—´åˆ†å¼€ï¼Œç„¶åä»ä¸¤ä¾§æŒ¨ä¸ªåˆ¤æ–­æ˜¯å¦ä¸€è‡´

```js
function isPalindrome(str) {
  var len = str.length
  for (var i = 0; i < len / 2; i++) {
    if (str[i] !== str[len - 1 - i]) {
      return false
    }
  }
  return true
}
console.log(isPalindrome('racecar')) // true
console.log(isPalindrome('hello')) // false
```

### è·å–æœ€é•¿å›æ–‡å­ä¸²

å…¶åŸºæœ¬æ€è·¯æ˜¯åˆ©ç”¨ä¸­å¿ƒæ‰©å±•ç®—æ³•ï¼Œä»å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå‘å·¦å³ä¸¤è¾¹æ‰©å±•ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡å­ä¸²ï¼ŒåŒæ—¶è®°å½•æœ€é•¿çš„å›æ–‡å­ä¸²çš„é•¿åº¦å’Œèµ·å§‹ä½ç½®ã€‚å…·ä½“å®ç°ä¸­ï¼Œåˆ©ç”¨äº†ä¸€ä¸ªè¾…åŠ©å‡½æ•° expandAroundCenter()æ¥å®ç°ä¸­å¿ƒæ‰©å±•ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨ç»™å®šçš„å­—ç¬¦ä¸² str ä¸­ï¼Œä»¥ left å’Œ right ä¸ºä¸­å¿ƒï¼Œå‘å·¦å³ä¸¤è¾¹æ‰©å±•ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡å­ä¸²ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚æœ€ç»ˆï¼Œåˆ©ç”¨ä¸»å‡½æ•° longestPalindrome()æ¥éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œè°ƒç”¨ expandAroundCenter()å‡½æ•°ï¼Œæ‰¾åˆ°æœ€é•¿å›æ–‡å­ä¸²çš„ä½ç½®å’Œé•¿åº¦ï¼Œå¹¶è¿”å›è¯¥å­ä¸²ã€‚

```js
function longestPalindrome(str) {
  let left = 0
  let right = 0
  let maxLen = 0

  for (let i = 0; i < str.length; i++) {
    let len1 = expandAroundCenter(str, i, i)
    let len2 = expandAroundCenter(str, i, i + 1)
    let len = Math.max(len1, len2)

    if (len > maxLen) {
      maxLen = len
      left = i - Math.floor((len - 1) / 2)
      right = i + Math.floor(len / 2)
    }
  }
  return str.substring(left, right + 1)
}

function expandAroundCenter(str, left, right) {
  while (left >= 0 && right < str.length && str.charAt(left) === str.charAt(right)) {
    left--
    right++
  }
  return right - left - 1
}

// æµ‹è¯•
console.log(longestPalindrome('babad')) // "bab" æˆ– "aba"
console.log(longestPalindrome('cbbd')) // "bb"
```

### æœ€å°è¦†ç›–å­ä¸²

æ»‘åŠ¨çª—å£ç®—æ³•æ˜¯ä¸€ç§è§£å†³å­—ç¬¦ä¸²å­ä¸²é—®é¢˜çš„ç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œé€šè¿‡æ»‘åŠ¨çª—å£çš„æ–¹å¼æ¥å¯»æ‰¾æœ€å°è¦†ç›–å­ä¸²ã€‚å…·ä½“å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š

1. å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ left å’Œ rightï¼Œåˆ†åˆ«è¡¨ç¤ºçª—å£çš„å·¦å³è¾¹ç•Œï¼›
2. å°† right æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œæ‰©å¤§çª—å£ï¼Œç›´åˆ°çª—å£ä¸­åŒ…å«äº†æ‰€æœ‰çš„ç›®æ ‡å…ƒç´ ï¼›
3. å¦‚æœå½“å‰çª—å£ä¸­åŒ…å«äº†æ‰€æœ‰çš„ç›®æ ‡å…ƒç´ ï¼Œé‚£ä¹ˆæ›´æ–°æœ€å°è¦†ç›–å­ä¸²çš„é•¿åº¦å’Œèµ·å§‹ä½ç½®ï¼Œå¹¶å°† left æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œç¼©å°çª—å£ï¼›
4. é‡å¤æ­¥éª¤ 2 å’Œ 3ï¼Œç›´åˆ° right æŒ‡é’ˆåˆ°è¾¾å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚

å…·ä½“å®ç°æ—¶ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®°å½•çª—å£ä¸­å„ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œç”¨å¦å¤–ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®°å½•ç›®æ ‡å…ƒç´ çš„å‡ºç°æ¬¡æ•°ï¼Œé€šè¿‡æ¯”è¾ƒè¿™ä¸¤ä¸ªå“ˆå¸Œè¡¨æ¥åˆ¤æ–­çª—å£æ˜¯å¦åŒ…å«äº†æ‰€æœ‰çš„ç›®æ ‡å…ƒç´ ã€‚åŒæ—¶ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªè®¡æ•°å™¨æ¥è®°å½•çª—å£ä¸­åŒ…å«çš„ç›®æ ‡å…ƒç´ çš„ä¸ªæ•°ï¼Œå½“è®¡æ•°å™¨ç­‰äºç›®æ ‡å…ƒç´ çš„ä¸ªæ•°æ—¶ï¼Œè¯´æ˜çª—å£ä¸­å·²ç»åŒ…å«äº†æ‰€æœ‰çš„ç›®æ ‡å…ƒç´ ã€‚åœ¨ç§»åŠ¨ left å’Œ right æŒ‡é’ˆæ—¶ï¼Œéœ€è¦æ›´æ–°å“ˆå¸Œè¡¨å’Œè®¡æ•°å™¨çš„å€¼ã€‚

```js
function minWindow(s, target) {
  let map = {}
  // ç»Ÿè®¡ç›®æ ‡å­—ç¬¦ä¸²å„ä¸ªå­—æ¯çš„æ¬¡æ•°
  for (let char of target) {
    map[char] = (map[char] || 0) + 1
  }

  let left = 0,
    right = 0,
    counter = target.length, // ç›®æ ‡ä¸²çš„é•¿åº¦
    minLen = Infinity, // æœ€å°å­ä¸²é•¿åº¦minLen
    minStart = 0

  while (right < s.length) {
    let char = s[right]
    //
    if (map[char] > 0) {
      counter--
    }
    map[char] = (map[char] || 0) - 1
    right++

    while (counter === 0) {
      if (right - left < minLen) {
        minLen = right - left
        minStart = left
      }
      let char = s[left]
      if (map[char] === 0) {
        counter++
      }
      map[char] = (map[char] || 0) + 1
      left++
    }
  }
  return minLen === Infinity ? '' : s.substr(minStart, minLen)
}

// ç¤ºä¾‹ï¼š
console.log(minWindow('ADOBECODEBANC', 'ABC')) // "BANC"

function minWindow(s, t) {
  let charCount = new Array(128).fill(0)
  let left = 0
  let right = 0
  let count = t.length
  let minLen = Infinity
  let minStart = 0

  // ç»Ÿè®¡tä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
  for (let i = 0; i < t.length; i++) {
    charCount[t.charCodeAt(i)]++
  }

  // ç§»åŠ¨å³æŒ‡é’ˆ
  while (right < s.length) {
    // å¦‚æœå½“å‰å­—ç¬¦æ˜¯tä¸­çš„å­—ç¬¦ï¼Œåˆ™countå‡1
    if (charCount[s.charCodeAt(right)] > 0) {
      count--
    }
    // ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
    charCount[s.charCodeAt(right)]--
    right++

    // å½“countä¸º0æ—¶ï¼Œè¯´æ˜å·²ç»æ‰¾åˆ°ä¸€ä¸ªè¦†ç›–tçš„å­ä¸²
    while (count === 0) {
      // æ›´æ–°æœ€å°é•¿åº¦å’Œèµ·å§‹ä½ç½®
      if (right - left < minLen) {
        minLen = right - left
        minStart = left
      }
      // ç§»åŠ¨å·¦æŒ‡é’ˆ
      charCount[s.charCodeAt(left)]++
      // å¦‚æœå½“å‰å­—ç¬¦åœ¨tä¸­å‡ºç°ï¼Œåˆ™countåŠ 1
      if (charCount[s.charCodeAt(left)] > 0) {
        count++
      }
      left++
    }
  }

  return minLen === Infinity ? '' : s.substring(minStart, minStart + minLen)
}
console.log(minWindow('ADOBECODEBANC', 'ABC')) // "BANC"
```

### æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œå®ç°æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²

```js
function longestSubstring(s) {
  let left = 0
  let right = 0
  let maxLen = 0
  const set = new Set()

  while (right < s.length) {
    if (!set.has(s.charAt(right))) {
      set.add(s.charAt(right))
      maxLen = Math.max(maxLen, set.size)
      right++
    } else {
      set.delete(s.charAt(left))
      left++
    }
  }

  return maxLen
}
```

- ç©ºé—´å¤æ‚åº¦ä¸º O(min(n,m))ï¼Œå…¶ä¸­ n ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œm ä¸ºå­—ç¬¦é›†å¤§å°ã€‚å› ä¸º set ä¸­æœ€å¤šå­˜å‚¨ m ä¸ªå­—ç¬¦ã€‚
- æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œå…¶ä¸­ n ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å› ä¸ºæ¯ä¸ªå­—ç¬¦æœ€å¤šè¢«è®¿é—®ä¸¤æ¬¡ï¼ˆä¸€æ¬¡æ·»åŠ åˆ° set ä¸­ï¼Œä¸€æ¬¡ä» set ä¸­åˆ é™¤ï¼‰ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºçº¿æ€§çš„ã€‚

ä¸Šé¢æ–¹æ³•ï¼Œæ²¡åŠæ³•ç›´æ¥è¿”å›æœ€ç»ˆç»“æœï¼Œå› ä¸ºæ˜¯è¿­ä»£å™¨å¯¹è±¡

```js
function longestSubstring(s) {
  let left = 0
  let right = 0
  let maxLen = 0
  let res = []

  while (right < s.length) {
    if (!res.includes(s.charAt(right))) {
      res.push(s.charAt(right))
      maxLen = Math.max(maxLen, res.length)
      right++
    } else {
      res.splice(0, 1)
      left++
    }
  }

  return [maxLen, res.join()]
}
longestSubstring('baddcddaabea') // Â [3, 'b,e,a']
```

### å¤§æ•°ç›¸åŠ 

```js
function bigNumAdd(a, b) {
  // è·å–ä¸¤ä¸ªæ•°çš„é•¿åº¦
  let i = a.length - 1
  let j = b.length - 1

  let res = '' // æœ€ç»ˆç»“æœ
  let carry = 0 // è¿›ä½
  // åªè¦æœ‰ä¸€ä¸ªé•¿åº¦å¤§äºç­‰äº0ï¼Œå³å¾ªç¯
  while (i >= 0 || j >= 0) {
    let x = 0
    let y = 0
    let sum = 0 // ä¸¤ä¸ªæ•°çš„å’Œ

    if (i >= 0) {
      x = +a[i]
      i--
    }
    if (j >= 0) {
      y = +b[j]
      j--
    }

    sum = x + y + carry

    if (sum >= 10) {
      carry = 1
      sum -= 10 // è¿›ä½åï¼Œä¸¤ä¸ªæ•°çš„ä¸´æ—¶å’Œå°±éœ€è¦å‡10
    } else {
      carry = 0
    }

    // ä¸¤ä¸ªæ•°çš„ä¸´æ—¶å’Œï¼Œéœ€è¦ä¸æœ€ç»ˆç»“æœçš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼›
    res = sum + res
  }

  // å¾ªç¯ç»“æŸåï¼Œè¿˜éœ€åˆ¤æ–­è¿›ä½
  if (carry) {
    res = carry + res
  }
  return res
}
```

### æ’åº

å­—ç¬¦ä¸²æ’åºçš„åŸç†æ˜¯åŸºäº Unicode ç¼–ç çš„é¡ºåºè¿›è¡Œæ’åºã€‚

- æ¯ä¸ªå­—ç¬¦éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ Unicode ç¼–ç ï¼Œæ’åºæ—¶ä¼šæ ¹æ®è¿™äº›ç¼–ç çš„å¤§å°æ¥è¿›è¡Œæ’åºã€‚
- å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„é¦–ä¸ªå­—ç¬¦ç›¸åŒï¼Œåˆ™ä¼šæ¯”è¾ƒç¬¬äºŒä¸ªå­—ç¬¦ï¼Œä»¥æ­¤ç±»æ¨ç›´åˆ°æ¯”è¾ƒå‡ºä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°å…³ç³»ã€‚
- åœ¨æ’åºæ—¶ï¼Œå¤§å†™å­—æ¯ä¼šæ’åœ¨å°å†™å­—æ¯ä¹‹å‰ï¼Œå› ä¸ºå®ƒä»¬çš„ç¼–ç æ¯”å°å†™å­—æ¯çš„ç¼–ç è¦å°ã€‚

### å»é™¤ç›¸é‚»çš„å­—ç¬¦ä¸²

ç±»ä¼¼æ¶ˆæ¶ˆä¹ï¼Œå‡¡æ˜¯ç›¸é‚»æŒ¨ç€çš„å­—ç¬¦ä¸²ï¼Œå…¨éƒ¨å¹²æ‰

```js
function removeAdjacentDuplicates(str) {
  let stack = []
  for (let i = 0; i < str.length; i++) {
    // åˆ©ç”¨æ ˆç»“æ„ï¼Œå¦‚æœç›¸åŒåˆ™å¼¹å‡º
    if (stack.length && stack[stack.length - 1] === str[i]) {
      stack.pop()
    } else {
      stack.push(str[i])
    }
  }
  return stack.join('')
}

console.log(removeAdjacentDuplicates('abbbad')) // è¾“å‡º "d"
```

### åˆ¤æ–­å­—ç¬¦ä¸²ä¸­çš„æœ‰æ•ˆæ‹¬å·

```js
var isValid = function (s) {
  let stack = []
  // æ³¨æ„è¿™é‡Œæ˜¯å³æ‹¬å·ä½œä¸ºkey
  let map = {
    ')': '(',
    ']': '[',
    '}': '{',
  }
  for (let item of s) {
    // å¦‚æœmapé‡Œæ²¡æœ‰ï¼Œåˆ™è¯´æ˜æ˜¯å·¦ä¾§ç¬¦å·
    if (!map[item]) {
      stack.push(item)
    } else {
      if (stack.pop() !== map[item]) {
        return false
      }
    }
  }
  return !stack.length
}

var isValid = function (s) {
  // æ­£åˆ™åŒ¹é…å­—ç¬¦ä¸²ï¼Œé‡åˆ°æˆå¯¹çš„ç¬¦å·å°±æ›¿æ¢æˆ''
  let len = 0
  // éœ€è¦ä¸€ä¸ªç»ˆæ­¢æ¡ä»¶ï¼Œå°±æ˜¯é•¿åº¦ç»è¿‡ä¸€è½®æ›¿æ¢ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œè¯´æ˜å·²ç»åˆ°å¤´äº†
  while (len !== s.length) {
    len = s.length
    s = s.replace('()', '').replace('{}', '').replace('[]', '')
  }
  return !s.length
}

// æµ‹è¯•
console.log(isValid('[](){}')) // true
console.log(isValid('[({})]')) // true
console.log(isValid('[({)}]')) // falseå­—ç¬¦ä¸²çš„replaceæ–¹æ³•æ˜¯ç”¨äºå°†å­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­ä¸²æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå­ä¸²ã€‚å½“å…¥å‚æ˜¯æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…è¦æ›¿æ¢çš„å­ä¸²ã€‚
```

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šäºŒå‰æ ‘

äºŒå‰æ ‘çš„ç‰¹ç‚¹:

- å·¦ä¾§èŠ‚ç‚¹å°äºæ ¹èŠ‚ç‚¹
- æ ¹èŠ‚ç‚¹å°äºå³èŠ‚ç‚¹

### å¢åˆ æ”¹æŸ¥

äºŒå‰æ ‘æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œå®ƒç”±èŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå·¦å­èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å°ï¼Œå³å­èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å¤§ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ JavaScript å®ç°äºŒå‰æ ‘çš„æ’å…¥ã€æœç´¢ã€åˆ é™¤å’Œæ’åºç®—æ³•çš„ç¤ºä¾‹ï¼š

```js
class Node {
  constructor(value) {
    this.value = value
    this.left = null
    this.right = null
  }
}

class BinaryTree {
  constructor() {
    // åˆå§‹åŒ–äºŒå‰æ ‘æ—¶ï¼Œæ˜¯å¦éœ€è¦åˆå§‹åŒ–æ ¹èŠ‚ç‚¹
    this.root = null
  }

  // æ’å…¥èŠ‚ç‚¹ï¼Œåˆ™éœ€è¦æ‰¾åˆ°å¯¹åº”çš„ä½ç½®
  insert(value) {
    const node = new Node(value)

    if (!this.root) {
      this.root = node
    } else {
      let current = this.root

      while (current) {
        // å°å€¼åœ¨å·¦ä¾§
        if (value < current.value) {
          if (!current.left) {
            current.left = node
            break
          }
          current = current.left
        } else if (value > current.value) {
          if (!current.right) {
            current.right = node
            break
          }
          current = current.right
        } else {
          break
        }
      }
    }
  }
  // æœç´¢èŠ‚ç‚¹
  search(value) {
    // å–å‡ºæ ¹èŠ‚ç‚¹
    let current = this.root

    while (current) {
      if (value < current.value) {
        current = current.left
      } else if (value > current.value) {
        current = current.right
      } else {
        return current
      }
    }

    return null
  }

  // åˆ é™¤èŠ‚ç‚¹
  delete(value) {
    this.root = this._delete(this.root, value)
  }

  _delete(node, value) {
    if (!node) {
      return null
    }

    if (value === node.value) {
      if (!node.left && !node.right) {
        return null
      }

      if (!node.left) {
        return node.right
      }

      if (!node.right) {
        return node.left
      }

      const temp = this._minValueNode(node.right)
      node.value = temp.value
      node.right = this._delete(node.right, temp.value)
      return node
    }

    if (value < node.value) {
      node.left = this._delete(node.left, value)
      return node
    }

    node.right = this._delete(node.right, value)
    return node
  }

  _minValueNode(node) {
    let current = node

    while (current.left) {
      current = current.left
    }

    return current
  }

  // æ’åº
  sort() {
    const result = []

    function traverse(node) {
      if (node) {
        traverse(node.left)
        result.push(node.value)
        traverse(node.right)
      }
    }

    traverse(this.root)
    return result
  }
}

// ä½¿ç”¨
const tree = new BinaryTree()

tree.insert(10)
tree.insert(5)
tree.insert(15)
tree.insert(3)
tree.insert(7)
tree.insert(13)
tree.insert(17)

console.log(tree.sort()) // [3, 5, 7, 10, 13, 15, 17]

tree.delete(15)

console.log(tree.sort()) // [3, 5, 7, 10, 13, 17]

console.log(tree.search(7)) // Node { value: 7, left: Node {...}, right: Node {...} }
console.log(tree.search(15)) // null
```

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•°ç»„

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•°ç»„

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•°ç»„
