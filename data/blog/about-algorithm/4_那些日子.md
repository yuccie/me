---
title: é‚£äº›æ—¥å­
date: Sun Nov 19 2023 16:06:28 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
lastmod: 2023/11/19
tags: [day, å·©å›º]
draft: false
summary: è¦æƒ³çœ‹èµ·æ¥æ¯«ä¸è´¹åŠ›,å°±éœ€è¦èƒŒåç”¨å°½å…¨åŠ›
layout: PostSimple
bibliography: references-data.bib
canonicalUrl: https://dume.vercel.app/blog/about-algorithm/4_é‚£äº›æ—¥å­.md
---

## 20231122 å‘¨

## 20231122 å‘¨ä¸‰

### åˆå¹¶ä¹±åºåŒºé—´

### æ‰‹åŠ¨å®ç°ä¸€ä¸ª vue çš„æ•°æ®åŠ«æŒ

æ€è·¯ï¼šå…¶å®å°±æ˜¯é€’å½’ + Object.defineProperty æˆ–è€… proxy

```js
const observe = (obj) => {
  // åªé’ˆå¯¹å¯¹è±¡åšå“åº”å¼æ‹¦æˆª
  if (!obj || typeof obj !== 'object') return

  // éå†å¯¹è±¡å±æ€§
  Object.keys(obj).forEach((key) => {
    let val = obj[key]

    // é€’å½’å¤„ç†
    observe(val)

    // å¤„ç†å…·ä½“å€¼
    Object.defineProperty(obj, key, {
      enumerable: true, // å¯æšä¸¾
      configurable: true, // å¯ä¿®æ”¹
      get() {
        console.log('è®¿é—®å±æ€§', key, 'å€¼ä¸º', val)
        return val
      },
      set(newVal) {
        if (newVal === val) return
        console.log('è®¾ç½®å±æ€§', key, 'æ–°å€¼ä¸º', newVal)
        val = newVal
      },
    })
  })
}

var obj = {
  a: 1,
  b: { c: 'cc', d: 3 },
}
observe(obj)
obj.a //

// ä½¿ç”¨Proxy
const observeProxy = (obj) => {
  // å…¶å®å°±æ˜¯é’ˆå¯¹ä¸€ä¸ªå¯¹è±¡ï¼Œåšä¸€ä¸ªé…ç½®åŒ–çš„å¤„ç†
  return new Proxy(obj, {
    get(target, key) {
      console.log('è®¿é—®å±æ€§', key, 'å€¼ä¸º', target[key])
      if (key in target) {
        return target[key]
      }
    },
    set(target, key, val) {
      target[key] = val
      console.log('è®¾ç½®å±æ€§', key, 'å€¼ä¸º', target[key])
      return true // å¿…é¡»è¿”å›true
    },
    deleteProperty(target, key) {
      console.log('åˆ é™¤å±æ€§', key)
      delete target[key]
      return true // å¿…é¡»è¿”å›true
    },
  })
}
var newObj = observeProxy(obj)
newObj.a
```

- Proxy
  - åŠŸèƒ½æ›´å¼ºå¤§ï¼Œå¯ä»¥æ‹¦æˆªæ›´å¤šçš„æ“ä½œï¼ŒåŒ…æ‹¬å±æ€§è¯»å–ã€å±æ€§è®¾ç½®ã€å±æ€§åˆ é™¤ã€å‡½æ•°è°ƒç”¨ç­‰
  - ç›´æ¥ä»£ç†æ•´ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ¯ä¸ªå±æ€§ï¼Œå¯ä»¥åŠ¨æ€å¤„ç†æ·»åŠ å’Œåˆ é™¤çš„å±æ€§
  - ä»£ç†å¯¹è±¡ï¼Œè¿˜å¯ä»¥æ‹¦æˆªå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨å’Œæ„é€ å‡½æ•°è°ƒç”¨
  - ç¼ºç‚¹ï¼šå…¼å®¹æ€§ã€æ€§èƒ½å¼€é”€ç¨é«˜
- Object.defineProperty
  - å…¼å®¹æ€§å¥½
  - ç²¾ç»†åŒ–æ§åˆ¶ï¼Œå…·ä½“æ¯ä¸ªå±æ€§çš„å¯æšä¸¾ã€å¯é…ç½®ã€å¯å†™ç­‰
  - åªé’ˆå¯¹å·²å­˜åœ¨çš„å±æ€§
  - æ— æ³•æ‹¦æˆªæ•´ä¸ªå¯¹è±¡

### åŸç”Ÿå®ç° ajax

æ€è·¯ï¼šåˆ©ç”¨ promiseï¼Œå°è£… XMLHttpRequest æ–¹æ³•

### åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦ä¸ºå¯¹ç§°äºŒå‰æ ‘

- æ€è·¯ï¼šæˆå¯¹å‹å…¥å †æ ˆï¼Œæ³¨æ„é¡ºåºï¼Œç„¶åå†æˆå¯¹å¼¹å‡ºï¼Œåˆ¤æ–­

```js
var isSymmetric = function (root) {
  if (!root) return true

  const stack = [root.left, root.right]
  while (stack.length) {
    const right = stack.pop()
    const left = stack.pop()

    // å¦‚æœäºŒè€…éƒ½æ²¡æœ‰ï¼Œåˆ™ç»§ç»­
    if (!right && !left) {
      continue
    }
    if (!right || !left) {
      return false
    }
    if (right.val !== left.val) {
      return false
    }

    // æˆå¯¹å‹å…¥å †æ ˆï¼Œæ³¨æ„é¡ºåºï¼Œä¸éœ€è¦è€ƒè™‘æœ‰æ²¡æœ‰å€¼
    stack.push(left.left, right.right)
    stack.push(left.right, right.left)
  }
  return true
}
```

### è¿›åˆ¶è½¬åŒ–

è€ƒå¯Ÿç‚¹

- ä½æ“ä½œè¿ç®—
- toStringã€parseInt æ“ä½œ
  - parseInt åªæ˜¯æ ¹æ®æŒ‡å®šçš„ radix è¿›åˆ¶æ•°ï¼Œ**è¯†åˆ«å­—ç¬¦ä¸²ä¸­å¯¹åº”è¿›åˆ¶çš„æ•°æ®**è€Œå·²ï¼Œé»˜è®¤ 10ã€‚å¦‚æœä¸æ˜¯å¯¹åº”è¿›åˆ¶ï¼Œåˆ™åœæ­¢è¯†åˆ«
    - é»˜è®¤ 10 è¿›åˆ¶
  - toString
    - å­—ç¬¦ä¸²ï¼ŒåŸæ ·è¿”å›
    - æ•°å­—ç±»å‹ï¼Œå¯ä»¥æ¥æ”¶ä¸€ä¸ªè¿›åˆ¶æ•°ï¼Œè¿›è€Œè½¬åˆ°å¯¹åº”è¿›åˆ¶
    - å¯¹äºæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶å,å·æ‹¼æ¥
      - ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ [1,3, [3,4, [3,4]]].toString() => '1,3,3,4,3,4' å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ‹å¹³æ•°ç»„å•Šã€‚ã€‚ã€‚
    - å¯¹è±¡ï¼Œè¿”å›"[object Object]"

```js
parseInt(
  234,
  4
)(
  // 11 ï¼Œå› ä¸º4è¿›åˆ¶ï¼Œæœ€é«˜ä½å°±æ˜¯4ï¼Œæ‰€ä»¥åªèƒ½è¯†åˆ«åˆ° 23 ä¹Ÿå°±æ˜¯ 2 * 4 + 3 => 11

  12
)
  .toString(10)(
    // 12
    12
  )
  .toString(8) // 14 , 1 * 8 + 4 => 12

  [(1, 3, [3, 4, [3, 4]])].toString() // '1,3,3,4,3,4'
```

å¦‚ä½•æ‰‹åŠ¨å®ç°ä¸€ä¸ªè¿›åˆ¶è½¬åŒ–å‘¢ï¼Ÿ

æˆ‘ä»¬è¦çŸ¥é“ï¼Œæ‰€è°“è¿›åˆ¶è½¬åŒ–ï¼Œå…¶å®å°±æ˜¯å°†æŸä¸ªæ•° ä»¥æŸä¸ª base åŸºæ•°è¿›è¡Œæ‹†åˆ†è€Œå·²

```js
function decimalToBase(decimalNumber, base) {
  if (base < 2 || base > 16) {
    throw new Error('Base out of range. Only supports base 2 to 16.')
  }

  const digits = '0123456789abcdef'
  const result = []

  while (decimalNumber > 0) {
    const digit = decimalNumber % base
    result.unshift(digits[digit])
    decimalNumber = Math.floor(decimalNumber / base)
  }

  return result.join('')
}

const decimalNumber = 42
const binaryNumber = decimalToBase(decimalNumber, 2)
const octalNumber = decimalToBase(decimalNumber, 8)
const hexadecimalNumber = decimalToBase(decimalNumber, 16)

console.log(binaryNumber) // Output: "101010"
console.log(octalNumber) // Output: "52"
console.log(hexadecimalNumber) // Output: "2a"
```

ä¸Šé¢çŸ¥é“ç¦æ­¢è½¬åŒ–ï¼Œé‚£é¢œè‰²è½¬åŒ–æ˜¯ä¸æ˜¯å°±æ¸…æ™°äº†

- rgb æ ¼å¼ï¼šrgb(255, 121, 245)
- 16 è¿›åˆ¶ï¼š00ff00

```js
function rgbToHex(r, g, b) {
  // æœ€åçš„å­—ç¬¦ä¸² 00ff00 é«˜ä½åœ¨æœ€å·¦ä¾§
  // ç„¶åæ¯ä¸ªrgbï¼Œå…¶å®éƒ½æ˜¯ 2 çš„ 8æ¬¡æ–¹ä»¥å†…ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—èŠ‚ 8 ä½ï¼Œç„¶åæŠŠrgbå¹³é“ºåˆ°äºŒè¿›åˆ¶ä½ä¸Šï¼Œç„¶åå¾—å‡ºä¸€ä¸ªæ€»çš„äºŒè¿›åˆ¶æ•°ï¼Œç„¶åå†è½¬æˆ 16è¿›åˆ¶
  let rgbStr = ((r << 16) | (g << 8) | b).toString(16)
  // console.log('rgbStr', rgbStr)

  // return '0x' + rgbStr.padStart(6, 0)
  return '0x' + `000000${rgbStr}`.slice(-6) // ä»å€’æ•°ç¬¬6ä¸ªå¼€å§‹æˆªå–
}
```

### æ•°ç»„å¸¸è§æ–¹æ³•

```js
// æ‹å¹³ï¼Œè½¬æ•°å­—ï¼Œå»é‡ï¼Œæ’åº
var arr = [1, 3, [3, 4, [3, 4]]]
const res = arr
  .toString()
  .split(',')
  .map((item) => +item)
  .filter((item, idx, arr) => idx === arr.indexOf(item))
  .sort((a, b) => b - a)
console.log(res) // [4, 3, 1]

// æ‹å¹³æ•°ç»„
const nestedArray = [1, [2, [3, 4]]]
const flattenedArray = nestedArray.flat() // [1, 2, [3, 4]]  é»˜è®¤æ·±åº¦ä¸€
const flattenedArray = nestedArray.flat(Infinity) // å¤§äºåˆ™è‡ªåŠ¨æœ€æ·±

//
const numbers = [1, 2, 3, 4, 5, [1, 3]]

const flattenV1 = (arr) => {
  return arr.reduce((res, ele) => {
    return res.concat(Array.isArray(ele) ? flattenV1(ele) : ele)
  }, [])
}
console.log(flattenV1(numbers))

//
const flatArray = (arr, res = []) => {
  arr.forEach((item) => {
    if (Array.isArray(item)) {
      // æ³¨æ„è¿™é‡Œï¼Œæ˜¯å°†resä¼ å…¥
      flatArray(item, res)
    } else {
      res.push(item)
    }
  })
  return res
}
```

### åŠ¨æ€è§„åˆ’

#### æ–æ³¢é‚£å¥‘æ•°åˆ—

```js
var fib = function (n) {
  // åŠ¨æ€è§„åˆ’
  // 1ã€å®šä¹‰dpï¼šdp[i]è¡¨ç¤ºç¬¬ié¡¹çš„æ–æ³¢é‚£å¥‘æ•°
  // 2ã€å®šä¹‰å…¬å¼ï¼šdp[i] = dp[i-1] + dp[i-2]
  // 3ã€ç¡®å®šéå†é¡ºåºï¼šä»å°åˆ°å¤§
  // 4ã€åˆå§‹åŒ–ï¼šdp = [0, 1]
  // 5ã€æ¨å¯¼

  const dp = [0, 1]
  for (let i = 2; i <= n; i++) {
    dp[i] = dp[i - 1] + dp[i - 2]
  }
  return dp[n]
}
```

#### çˆ¬æ¥¼å™¨

çˆ¬åˆ°ç¬¬ä¸€å±‚æ¥¼æ¢¯æœ‰ä¸€ç§æ–¹æ³•ï¼Œçˆ¬åˆ°äºŒå±‚æ¥¼æ¢¯æœ‰ä¸¤ç§æ–¹æ³•ã€‚

é‚£ä¹ˆç¬¬ä¸€å±‚æ¥¼æ¢¯å†è·¨ä¸¤æ­¥å°±åˆ°ç¬¬ä¸‰å±‚ ï¼Œç¬¬äºŒå±‚æ¥¼æ¢¯å†è·¨ä¸€æ­¥å°±åˆ°ç¬¬ä¸‰å±‚ã€‚

æ‰€ä»¥åˆ°ç¬¬ä¸‰å±‚æ¥¼æ¢¯çš„çŠ¶æ€å¯ä»¥ç”±ç¬¬äºŒå±‚æ¥¼æ¢¯ å’Œ åˆ°ç¬¬ä¸€å±‚æ¥¼æ¢¯çŠ¶æ€æ¨å¯¼å‡ºæ¥ï¼Œé‚£ä¹ˆå°±å¯ä»¥æƒ³åˆ°åŠ¨æ€è§„åˆ’äº†ã€‚

```js
var climbStairs = function (n) {
  // dp[i] ä¸ºç¬¬ i é˜¶æ¥¼æ¢¯æœ‰å¤šå°‘ç§æ–¹æ³•çˆ¬åˆ°æ¥¼é¡¶
  // dp[i] = dp[i - 1] + dp[i - 2]
  let dp = [1, 2]
  for (let i = 2; i < n; i++) {
    dp[i] = dp[i - 1] + dp[i - 2]
  }
  return dp[n - 1]
}
```

### è´ªå¿ƒ

#### è·³è·ƒæ¸¸æˆ

å…¶å®è·³å‡ æ­¥æ— æ‰€è°“ï¼Œå…³é”®åœ¨äºå¯è·³çš„è¦†ç›–èŒƒå›´ï¼Œæ˜¯å¦èƒ½è¾¾åˆ°ç»ˆç‚¹ã€‚

è´ªå¿ƒç®—æ³•å±€éƒ¨æœ€ä¼˜è§£ï¼šæ¯æ¬¡å–æœ€å¤§è·³è·ƒæ­¥æ•°ï¼ˆå–æœ€å¤§è¦†ç›–èŒƒå›´ï¼‰ï¼Œæ•´ä½“æœ€ä¼˜è§£ï¼šæœ€åå¾—åˆ°æ•´ä½“æœ€å¤§è¦†ç›–èŒƒå›´ï¼Œçœ‹æ˜¯å¦èƒ½åˆ°ç»ˆç‚¹ã€‚

å±€éƒ¨æœ€ä¼˜æ¨å‡ºå…¨å±€æœ€ä¼˜ï¼Œæ‰¾ä¸å‡ºåä¾‹ï¼Œè¯•è¯•è´ªå¿ƒï¼

å› æ­¤æ¯æ¬¡ç§»åŠ¨éƒ½æ›´æ–°æœ€å¤§è¦†ç›–èŒƒå›´å³å¯ã€‚

```js
var canJump = function (nums) {
  // æ›´æ–°æœ€å¤§è·³è·ƒèŒƒå›´å³å¯
  let cover = 0 // å®šä¹‰å¯è¦†ç›–èŒƒå›´
  // ä¸‹é¢å¾ªç¯çš„å˜é‡ä¸å¯¹ï¼Œåº”è¯¥æ˜¯coverçš„é•¿åº¦ï¼Œå› ä¸ºåªæœ‰coverä½ æ‰å¯ä»¥åˆ°è¾¾
  // for (let i = 0; i <= nums.length; i++) {
  for (let i = 0; i <= cover; i++) {
    cover = Math.max(i + nums[i], cover)
    if (cover >= nums.length - 1) {
      return true
    }
  }
  return false
}
```

### å›æº¯

- for å¾ªç¯ï¼Œç›¸å½“äºæ¨ªå‘é€‰æ‹©ï¼Œé€‰æ‹©åŒä¸€å±‚çš„å…ƒç´ 
  - æ¯æ¬¡ä»é›†åˆä¸­é€‰å–å…ƒç´ ï¼Œå¯é€‰æ‹©çš„èŒƒå›´éšç€é€‰æ‹©çš„è¿›è¡Œè€Œæ”¶ç¼©ï¼Œè°ƒæ•´å¯é€‰æ‹©çš„èŒƒå›´ã€‚
  - è€Œå¦‚ä½•é€šè¿‡æ ‡è¯†ç¼©å°èŒƒå›´å†…ï¼Œå°±æ˜¯é€šè¿‡ ç´¢å¼• index
- è€Œå›æº¯å°±æ˜¯çºµå‘é€‰æ‹©ï¼ŒäºŒè€…ç»“åˆåï¼Œå°±å¯ä»¥éå†æ•´ä¸ªæ ‘
- å›æº¯æ³•å°±æ˜¯è§£å†³è¿™ç§ k å±‚ for å¾ªç¯åµŒå¥—çš„é—®é¢˜ã€‚

```js
for (int i = startIndex; i <= n; i++) { // æ§åˆ¶æ ‘çš„æ¨ªå‘éå†
    path.push_back(i);         // å¤„ç†èŠ‚ç‚¹
    backtracking(n, k, i + 1); // é€’å½’ï¼šæ§åˆ¶æ ‘çš„çºµå‘éå†ï¼Œæ³¨æ„ä¸‹ä¸€å±‚æœç´¢è¦ä»i+1å¼€å§‹ï¼Œä¹Ÿå°±ç¼©å°äº†èŒƒå›´
    path.pop_back();           // å›æº¯ï¼Œæ’¤é”€å¤„ç†çš„èŠ‚ç‚¹
}
```

## 20231121 å‘¨äºŒ

### äºŒå‰æ ‘

#### äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„

```js
function binaryTreePaths(root) {
  if (!root) return []
  const res = [],
    stack = [root],
    paths = ['']

  while (stack.length) {
    // èŠ‚ç‚¹å’Œpathæ˜¯æˆå¯¹å­˜åœ¨
    const node = stack.pop() // ä»æ ˆé¡¶å¼¹å‡º
    const path = paths.pop() // å§‹ç»ˆåªæœ‰åŒæ—¶å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤è·¯å¾„ä¸ä¹‹åŒ¹é…

    // å¦‚æœå·¦å³å­èŠ‚ç‚¹éƒ½æ²¡æœ‰ï¼Œåˆ™è¿”å›
    if (!node.left && !node.right) {
      path += node.val // æœ€åä¸€ä¸ªä¸éœ€è¦æ‹¼æ¥ -> äº†
      paths.push(path)
      continue // ç»§ç»­ä¸‹ä¸€ä¸ª
    }

    // å¦‚æœæœ‰å·¦å³èŠ‚ç‚¹ï¼Œåˆ™å‹å…¥ï¼Œè¿™é‡Œä¸åŒºåˆ†é¡ºåº
    if (node.left) {
      stack.push(node.left)
      paths.push(path)
    }
    if (node.right) {
      stack.push(node.right)
      paths.push(path)
    }
  }
  return res
}
```

### hash è¡¨

#### æ±‚ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†

```js
var intersection = function (nums1, nums2) {
  let map = {}
  const res = []

  nums1.forEach((num) => {
    map[num] = true
  })

  nums2.forEach((num) => {
    if (map[num]) {
      res.push(num)
    }
  })

  return res.filter((item, idx) => idx === res.indexOf(item))
}
```

#### ä¸‰æ•°ä¹‹å’Œ

```js
var threeSum = function (nums) {
  const res = []
  nums.sort((a, b) => a - b)
  let len = nums.length

  for (let i = 0; i < len; i++) {
    let left = i + 1
    let right = len - 1

    // å»é‡ç¬¬ä¸€ä¸ª
    if (i > 0 && nums[i] === nums[i - 1]) continue

    // å¼€å§‹éå†å·¦å³æŒ‡é’ˆ
    while (left < right) {
      const sum = nums[i] + nums[left] + nums[right]

      if (sum === 0) {
        res.push([nums[i], nums[left], nums[right]])

        // åªæœ‰å’Œç­‰äº0äº†ï¼Œè¯´æ˜æ‰å¼€å§‹æ‰§è¡Œä¸‹é¢çš„
        while (left < right && nums[left] === nums[left + 1]) left++
        while (left < right && nums[right] === nums[right - 1]) right--

        left++
        right--
      } else if (sum > 0) {
        right--
      } else {
        left++
      }
    }
  }

  return res
}
```

## 20231119 å‘¨æ—¥

### å›æº¯

#### ç»„åˆæ€»æ•°

> ç»™ä½ ä¸€ä¸ª æ— é‡å¤å…ƒç´  çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target ï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„ æ‰€æœ‰ ä¸åŒç»„åˆ ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è¿™äº›ç»„åˆã€‚

```js
var combinationSum = function (candidates, target) {
  // ç»„åˆé—®é¢˜ï¼Œä¹Ÿæ˜¯ä½¿ç”¨å›æº¯ï¼Œè€Œå›æº¯å°±æ˜¯å›æ¥æ›¿æ¢å¤šå±‚å¾ªç¯

  function backtrack(path, sum, start) {
    // æ»¡è¶³æ¡ä»¶ï¼Œè¿™é‡Œæ³¨æ„ï¼Œçœ‹ä¹‹å‰é”™è¯¯çš„æäº¤è®°å½•
    // if (sum === target) { è¿™æ ·ä¸è¡Œï¼Œå› ä¸ºå¤§äºçš„ä¹Ÿéœ€è¦è¿”å›
    if (sum >= target) {
      sum === target && res.push(path.slice())
      return
    }

    // ç›®å‰ç®—æ³•å¯ä»¥ç»Ÿè®¡å‡ºå…¨éƒ¨çš„ï¼Œä½†æ˜¯æœ‰é‡å¤çš„ [[2,2,3],[2,3,2],[3,2,2],[7]]
    // å¦‚ä½•å»é‡å‘¢ï¼Ÿå»é‡çš„è¯ï¼Œè¿˜æ˜¯éœ€è¦ä¸ªstartç´¢å¼•ã€‚ã€‚ã€‚
    // forå¾ªç¯ï¼Œæ¯ä¸ªå¾ªç¯éƒ½æ˜¯ä»0å¼€å§‹ï¼Œå› ä¸ºå¯ä»¥é‡å¤ï¼Œè¿™é‡Œçš„é‡å¤ä¸æ˜¯åœ¨è¿™é‡Œé…ç½®ï¼Œè€Œæ˜¯backtrackçš„å…¥å‚3æ˜¯iï¼Œä»è€Œå®ç°çš„é‡å¤ï¼Œå¦‚æœæ˜¯i+1ï¼Œåˆ™å°±æ˜¯ä¸é‡å¤çš„
    // è¿™å…¶å®ä¾ç„¶æ˜¯ä¸€ä¸ªé›†åˆï¼Œç„¶åç»„åˆé—®é¢˜ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨startç´¢å¼•ï¼Œå¦‚æœæ˜¯å¤šä¸ªé›†åˆï¼Œæ¯”å¦‚æ‹¨å·é”®ç»„åˆï¼Œå°±ä¸éœ€è¦ç´¢å¼•
    for (let i = start; i < candidates.length; i++) {
      // å¦‚æœå·²ç»å¤§äºtargetå°±ä¸å†å‹å…¥äº†
      if (sum > target) break
      path.push(candidates[i])
      sum += candidates[i]
      backtrack(path, sum, i)
      sum -= candidates[i]
      path.pop()
    }
  }

  const res = []
  backtrack([], 0, 0)
  return res
}
```

#### å…¨æ’åˆ—

```js
var permute = function (nums) {
  const res = []
  const used = new Set() // éœ€è¦å°†è¿™ä¸ªusedæ”¾åœ¨æœ€å¤–å±‚ï¼Œè€Œä¸æ˜¯å†…éƒ¨
  backtrack([])
  return res

  function backtrack(path) {
    if (path.length === nums.length) {
      res.push(path.slice())
      return
    }

    // æ”¾åœ¨å†…éƒ¨ï¼Œåªèƒ½å»é™¤åŒå±‚ä¸Šçš„é‡å¤ï¼Œä½†æ˜¯æ— æ³•å»é™¤åŒä¸€ä¸ªæ ‘æä¸Šçš„æ•°æ®
    // const used = new Set() // éœ€è¦å°†è¿™ä¸ªusedæ”¾åœ¨æœ€å¤–å±‚ï¼Œè€Œä¸æ˜¯å†…éƒ¨
    // æ¯ä¸€æ¬¡éƒ½æ˜¯ä»0å¼€å§‹éå†
    for (let i = 0; i < nums.length; i++) {
      if (used.has(nums[i])) continue

      used.add(nums[i])
      path.push(nums[i])
      backtrack(path.slice())
      path.pop()
      used.delete(nums[i])
    }
  }
}
```

### äºŒå‰æ ‘

#### æœ€å¤§å®½åº¦

- åˆ©ç”¨ç´¢å¼•
- å±‚åºéå†ï¼Œç´¢å¼•

```js
function widthOfBinaryTree(root) {
  if (root === null) {
    return 0
  }

  let maxWidth = 0
  const queue = [{ node: root, index: 0 }]

  while (queue.length > 0) {
    const levelSize = queue.length
    let leftmostIndex = queue[0].index
    const currentWidth = queue[queue.length - 1].index - leftmostIndex + 1
    maxWidth = Math.max(maxWidth, currentWidth)

    for (let i = 0; i < levelSize; i++) {
      const { node, index } = queue.shift()

      if (node.left) {
        queue.push({ node: node.left, index: 2 * index })
      }

      if (node.right) {
        queue.push({ node: node.right, index: 2 * index + 1 })
      }
    }
  }

  return maxWidth
}
```

#### æœ€å°æ·±åº¦

```js
var minDepth = function (root) {
  // æœ€å°æ·±åº¦
  if (!root) return 0
  const queue = [root]

  let minHeight = 0

  while (queue.length) {
    const len = queue.length
    minHeight++

    for (let i = 0; i < len; i++) {
      const node = queue.shift()
      // å±‚åºéå†ï¼Œé˜Ÿåˆ—ï¼Œå¦‚æœå·¦å³èŠ‚ç‚¹éƒ½æ²¡æœ‰å€¼ï¼Œåˆ™å°±æ˜¯æœ€å°
      if (!node.left && !node.right) {
        return minHeight
      }
      node.left && queue.push(node.left)
      node.right && queue.push(node.right)
    }
  }
  return minHeight
}
```

#### æœ€å¤§æ·±åº¦

```js
var maxDepth = function (root) {
  if (!root) return 0
  const queue = [root]

  let height = 0
  while (queue.length) {
    const len = queue.length
    height++

    // è¿™é‡Œé¢çš„å¾ªç¯æœ‰å¿…è¦ï¼Œå› ä¸ºlenæ˜¯ä¹‹å‰è®°å½•çš„ä¸€å±‚çš„é•¿åº¦ï¼Œæ˜¯ä¸å˜çš„
    for (let i = 0; i < len; i++) {
      const node = queue.shift()
      node.left && queue.push(node.left)
      node.right && queue.push(node.right)
    }
  }
  return height
}
```

#### ç¿»è½¬äºŒå‰æ ‘

```js
var invertTree = function (root) {
  if (!root) return root
  const queue = [root]

  while (queue.length) {
    const node = queue.shift()
    // å·¦å³å­èŠ‚ç‚¹äº¤æ¢å³å¯ï¼Œç„¶åç»§ç»­æ’å…¥å­—èŠ‚ç‚¹
    ;[node.left, node.right] = [node.right, node.left]

    node.left && queue.push(node.left)
    node.right && queue.push(node.right)
  }
  return root
}
```

#### å±‚åºéå†

```js
var levelOrder = function (root) {
  const res = []
  const queue = []

  root && queue.push(root)

  while (queue.length) {
    const len = queue.length // å½“å‰å±‚çš„æ•°é‡
    const curLevel = []

    // éå†
    for (let i = 0; i < len; i++) {
      const node = queue.shift() // å¼¹å‡ºé˜Ÿåˆ—æœ€å‰é¢çš„
      curLevel.push(node.val)
      // å°†å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ”¾åœ¨é˜Ÿåˆ—é‡Œ
      node.left && queue.push(node.left)
      node.right && queue.push(node.right)
    }
    // ä¸€ä¸ªforå¾ªç¯ç»“æŸï¼Œè¡¨ç¤ºä¸€å±‚å·²ç»éå†å®Œï¼Œéœ€è¦ä¸€å±‚ä¸€å±‚çš„è¿”å›
    res.push(curLevel)
  }

  return res
}
```

#### ä¸­åºéå†

```js
var inorderTraversal = (root) => {
  const res = [] // ç»“æœ
  const stack = [] // äºŒå‰æ ‘éå†ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆ

  root && stack.push(root) // stack = [root] ä¹Ÿè¡Œï¼Œå°±æ˜¯éœ€è¦letå£°æ˜

  while (stack.length) {
    // 1/å…¶å®å°±æ˜¯ä½¿ç”¨æ ˆæ¥éå†æ•´ä¸ªäºŒå‰æ ‘
    const node = stack.pop()

    // 3ã€å¼€å§‹å¤„ç†ä¹‹å‰æ”¾åœ¨é‡Œé¢çš„æ•°æ®
    // å…¶å®æ­¤æ—¶
    // console.log(stack)
    if (!node) {
      res.push(stack.pop().val)
      continue
    }

    // 2ã€å°†éå†çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ”¾åœ¨æ ˆé‡Œ
    // ä¸­åºï¼šå·¦ä¸­å³ -ã€‹å³ä¸­å·¦
    node.right && stack.push(node.right)
    stack.push(node)
    stack.push(null)
    node.left && stack.push(node.left)
  }

  return res
}
```

### hash è¡¨

#### ä¸‰æ•°ä¹‹å’Œ

```js
var threeSum = function (nums) {
  nums.sort((a, b) => a - b)

  // è¿™é‡Œä¹Ÿå¯ä»¥è¿”å›ï¼Œæ’åºåï¼Œå¦‚æœç¬¬ä¸€ä¸ªéƒ½å¤§äº0ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œä¸èƒ½ç›´æ¥ nums[0] å› ä¸ºæœ‰å¯èƒ½æœ‰è´Ÿå€¼
  if (nums[0] > 0) return []

  const len = nums.length
  const res = []

  for (let i = 0; i < len; i++) {
    let left = i + 1
    let right = len - 1

    // å¦‚æœä¸å¯¹ç¬¬ä¸€ä¸ªæ•°å»é‡ï¼Œåˆ™ä¼šå‡ºç°  [[-1,-1,2],[-1,0,1],[-1,0,1]] æƒ…å†µ
    if (nums[i] === nums[i - 1]) continue

    // ä¸€ä¸ªiï¼Œå°±éœ€è¦å¯¹åº”ä¸€æ¬¡ leftï¼Œrightçš„å¾ªç¯
    while (left < right) {
      const sum = nums[i] + nums[left] + nums[right]

      if (sum == 0) {
        res.push([nums[i], nums[left], nums[right]])

        // å»é‡ï¼Œä¸ä¸‹é¢bä½ç½®æ— å…³ï¼Œleft++åªæ˜¯èµ°åˆ°äº†ä¸‹ä¸€ä¸ªé‡å¤çš„ä½ç½®è€Œå·²
        // è¦ä¸åœçš„å»é‡ï¼Œè€Œä¸æ˜¯åªå»é‡ä¸€æ¬¡ï¼Œä¸èƒ½ä½¿ç”¨ifï¼Œè€Œåº”è¯¥ä½¿ç”¨while
        while (left < right && nums[left] === nums[left + 1]) left++
        while (left < right && nums[right] === nums[right - 1]) right--

        // bï¼šå½“å‰æ‰¾åˆ°ä¸€ä¸ªäº†ï¼Œé‚£å°±å¾—ç»§ç»­å¾€ä¸‹èµ°
        left++
        right--
      } else if (sum > 0) {
        right--
      } else {
        left++
      }
    }
  }

  return res
}
```

### é“¾è¡¨

#### åˆå¹¶é“¾è¡¨

```js
var mergeTwoLists = function (list1, list2) {
  let res = new ListNode(-1)
  let p = res // pæŒ‡é’ˆæ˜¯ç§»åŠ¨çš„ï¼Œ
  let p1 = list1
  let p2 = list2

  // å¦‚æœä¸¤ä¸ªæŒ‡é’ˆéƒ½æœ‰å€¼ï¼Œåˆ™å¯¹æ¯”
  while (p1 && p2) {
    if (p1.val > p2.val) {
      // å°†å°å€¼èµ‹å€¼ï¼ŒåŒæ—¶å‘ä¸‹ç§»åŠ¨æŒ‡é’ˆ
      // æ³¨æ„èµ‹å€¼çš„æ˜¯ä¸‹ä¸€ä¸ª
      // p = p2
      p.next = p2
      p2 = p2.next
    } else {
      p.next = p1
      p1 = p1.next
    }
    // æœ€åç§»åŠ¨pæŒ‡é’ˆ
    p = p.next
  }

  // ä¸Šé¢å¾ªç¯å®Œä»¥åï¼Œå°†å‰©ä½™çš„é“¾è¡¨ç»§ç»­æŒ‚ä¸Šå»ï¼ŒæŒ‚ä¸Šå»ä½¿ç”¨çš„p.nextï¼Œè€Œä¸æ˜¯p = p1
  // å› ä¸º p = p1 ç›¸å½“äºæŒ‡é’ˆç§»åŠ¨åˆ°p1
  p1 && (p.next = p1)
  p2 && (p.next = p2)

  // æ­¤æ—¶pä½äºæ–°å»ºé“¾è¡¨çš„ä¸­é—´æŸä¸ªä½ç½®ï¼Œéœ€è¦è¿”å›res.nextï¼Œä»¥ä¸ºå†…
  return res.next
}
```

#### é“¾è¡¨æ±‚å’Œ

```js
var addTwoNumbers = function (l1, l2) {
  // å› ä¸ºä¸¤ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹éƒ½æ˜¯æœ€å°å€¼å¼€å§‹ï¼Œå› æ­¤å¯ä»¥ç›´æ¥éå†ç´¯åŠ 
  // å› ä¸ºéå†ä¸¤ä¸ªé“¾è¡¨åï¼Œè¿˜éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼Œå› æ­¤éœ€è¦é’ˆå¯¹æ–°é“¾è¡¨å®šä¹‰headã€tailå°¾
  let head = null
  let tail = null
  let carry = 0 // è¿›ä½

  while (l1 || l2) {
    // å–ä¸¤ä¸ªé“¾è¡¨çš„å€¼
    const n1 = l1 ? l1.val : 0
    const n2 = l2 ? l2.val : 0
    const sum = n1 + n2 + carry

    if (!head) {
      // å¦‚æœæ²¡æœ‰å¤´ç»“ç‚¹ï¼Œåˆ™éœ€è¦æ–°å»ºèŠ‚ç‚¹
      head = new ListNode(sum % 10)
      tail = head
    } else {
      // æ­¤æ—¶å·²ç»æœ‰é“¾è¡¨äº†ï¼Œåˆ™éœ€è¦è¿½åŠ ï¼Œæ¯è¿½åŠ ä¸€ä¸ªï¼Œéƒ½éœ€è¦æ–°å»ºèŠ‚ç‚¹
      tail.next = new ListNode(sum % 10)
      // ç§»åŠ¨tailæŒ‡é’ˆ
      tail = tail.next
    }
    carry = Math.floor(sum / 10)

    // ç§»åŠ¨ä¸¤ä¸ªé“¾è¡¨çš„æŒ‡é’ˆ
    l1 && (l1 = l1.next)
    l2 && (l2 = l2.next)
  }
  // å¾ªç¯ç»“æŸï¼Œå†åˆ¤æ–­è¿›ä½å³å¯
  carry && (tail.next = new ListNode(carry))

  return head
}
```

#### ç¯å½¢é“¾è¡¨ II

```js
var detectCycle = function (head) {
  const hasCircle = (head) => {
    let fast = (slow = head)

    while (fast && fast.next) {
      fast = fast.next.next
      slow = slow.next
      if (fast === slow) {
        mixed = slow
        return true
      }
    }
    return false
  }

  let mixed = null
  let start = head

  if (!hasCircle(head)) {
    return null
  } else {
    // å¦‚æœäºŒè€…ä¸ç­‰ï¼Œåˆ™ä¸€ç›´å¾ªç¯
    while (mixed !== start) {
      start = start.next
      mixed = mixed.next
    }
    return mixed
  }
}
```

#### åˆ é™¤é“¾è¡¨ä¸­å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹

```js
var removeNthFromEnd = function (head, n) {
  let newHead = new ListNode(0, head)

  // è™šæ‹Ÿå¤´èŠ‚ç‚¹
  let fast = newHead
  let slow = newHead

  // å¿«æŒ‡é’ˆå…ˆèµ°næ­¥ï¼Œè¿™é‡Œéœ€è¦ç­‰äºn
  for (let i = 0; i <= n; i++) {
    fast = fast.next
  }

  // ç„¶åå¿«æ…¢æŒ‡é’ˆä¸€å—èµ°
  while (fast) {
    fast = fast.next
    slow = slow.next
  }

  slow.next = slow.next.next

  return newHead.next
}
```

#### ç¿»è½¬é“¾è¡¨

```js
var reverseList = function (head) {
  let prev = null
  let cur = head
  // 1 -> 2 -> 3
  while (cur) {
    // æ¯”å¦‚ curä¸º1ï¼Œ åˆ™æš‚å­˜ 2
    const temp = cur.next
    cur.next = prev // ä¸Šé¢éƒ½å­˜èµ·æ¥äº†ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥æ“ä½œ

    // ç»§ç»­ç§»åŠ¨prev
    // æƒ³è±¡ä¸‹ï¼šprev cur next ä¸‰è€…çš„å…³ç³»ï¼Œå› æ­¤å¦‚æœæƒ³ç»§ç»­è¿›è¡Œï¼Œåˆ™éœ€è¦å·¦ç§»
    prev = cur
    cur = temp
  }
  return prev
}
```

#### ç§»é™¤é“¾è¡¨ä¸­ç­‰äºæŸä¸ªå€¼çš„èŠ‚ç‚¹

```js
var removeElements = function (head, val) {
  // å¤´ç»“ç‚¹ä¹Ÿå¯èƒ½ç­‰äº valï¼Œå› æ­¤éœ€è¦ç»Ÿä¸€æ‰‹æ³•ï¼Œå› ä¸ºåˆ é™¤å¤´ç»“ç‚¹çš„æ“ä½œä¸æ–¹ä¾¿
  let virtual = new ListNode(0, head)

  let temp = virtual // æ¸¸èµ°æŒ‡é’ˆ

  while (temp.next) {
    if (temp.next.val === val) {
      temp.next = temp.next.next
    } else {
      temp = temp.next
    }
  }
  return virtual.next
}
```

### æ•°ç»„

#### [27]ç§»é™¤å…ƒç´ 

> ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ åŸåœ° ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº val çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

```js
var removeElement = function (nums, val) {
  // åˆ©ç”¨ä¸¤ä¸ªæŒ‡é’ˆ
  // ä¸€ä¸ªæŒ‡é’ˆå­˜å‚¨æœ‰æ•ˆçš„å€¼ï¼Œä¸€ä¸ªæŒ‡é’ˆåœ¨å‰é¢èµ°
  let left = 0
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] !== val) {
      nums[left++] = nums[i]
    }
  }
  // å› ä¸ºåªè¦æ±‚æ–°é•¿åº¦ï¼Œleftå°±æ˜¯ï¼Œå…¶å®åé¢è¿˜æœ‰å†—ä½™çš„
  return left
}
```

#### [35]æ’å…¥ä½ç½®

```js
var searchInsert = function (nums, target) {
  let left = 0
  let right = nums.length - 1

  while (left <= right) {
    const mid = parseInt((left + right) / 2)
    // æ¯”æŸ¥æ‰¾æŸä¸ªæ•°å­—åœ¨æ•°ç»„çš„ä½ç½®ï¼Œè¦å¤šä¸€äº›é€»è¾‘
    if (nums[mid] === target) {
      return mid
    } else if (nums[mid] > target) {
      // å½“å¤§äºç›®æ ‡å€¼æ—¶ï¼Œç†è®ºä¸Šright - 1ï¼Œä½†æ­¤æ—¶è¦æ‰¾æ’å…¥çš„ä½ç½®ï¼Œå› æ­¤å°±æ˜¯mid
      right = mid - 1
    } else {
      // æ­¤æ—¶targetå¤§äºä¸­ä½æ•°çš„å€¼ï¼Œå·¦ä¾§ä¸€åŠéƒ½æ²¡æœ‰ç”¨
      left = mid + 1
    }
  }
  // å¦‚æœä¸åœ¨æ•°ç»„ä¸­ï¼Œåˆ™å¦‚æ­¤ï¼šnums[pos-1]<target<num[pos]
  // ä¹Ÿå°±æ˜¯ right + 1
  return right + 1
}
```

#### [704]äºŒåˆ†æŸ¥æ‰¾

> ç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚

```js
var search = function (nums, target) {
  let left = 0
  let right = nums.length - 1

  // è¿™é‡Œéœ€è¦ å°äºç­‰äº
  while (left <= right) {
    const mid = parseInt((left + right) / 2)

    if (nums[mid] === target) {
      return mid
    } else if (nums[mid] > target) {
      right = mid - 1
    } else {
      left = mid + 1
    }
  }
  return -1
}
```

#### ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº

```js
var maxProfit = function (prices) {
  // å‡å¦‚ç¬¬ 0 å¤©ä¹°å…¥ï¼Œç¬¬ 3 å¤©å–å‡ºï¼Œé‚£ä¹ˆåˆ©æ¶¦ä¸ºï¼šprices[3] - prices[0]ã€‚

  // ç›¸å½“äº(prices[3] - prices[2]) + (prices[2] - prices[1]) + (prices[1] - prices[0])ã€‚

  // æ­¤æ—¶å°±æ˜¯æŠŠåˆ©æ¶¦åˆ†è§£ä¸ºæ¯å¤©ä¸ºå•ä½çš„ç»´åº¦ï¼Œè€Œä¸æ˜¯ä» 0 å¤©åˆ°ç¬¬ 3 å¤©æ•´ä½“å»è€ƒè™‘ï¼

  // é‚£ä¹ˆæ ¹æ® prices å¯ä»¥å¾—åˆ°æ¯å¤©çš„åˆ©æ¶¦åºåˆ—ï¼š(prices[i] - prices[i - 1]).....(prices[1] - prices[0])ã€‚

  // å› æ­¤ï¼Œåªéœ€è¦ç»Ÿè®¡æ­£æ•°å³å¯
  let res = 0

  for (let i = 1; i < prices.length; i++) {
    const val = prices[i] - prices[i - 1]
    if (val > 0) {
      res += val
    }
  }
  return res
}
```

#### åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„

```js
var merge = function (nums1, m, nums2, n) {
  let len1 = m - 1 // ä¸¤ä¸ªæ•°ç»„æœ‰åºçš„æœ€åä¸€ä¸ªå€¼
  let len2 = n - 1
  let len = m + n - 1 // æœ€ç»ˆæ•°ç»„çš„é•¿åº¦

  // å…¶å®å°±æ˜¯ä¸¤ä¸ªæ•°ç»„æ¯”è¾ƒï¼Œç„¶åå°†æ¯”è¾ƒçš„æ–°å€¼æ”¾åœ¨æœ€å
  while (len1 >= 0 && len2 >= 0) {
    nums1[len--] = nums1[len1] > nums2[len2] ? nums1[len1--] : nums2[len2--]
  }
  // ä¸€éå¾ªç¯å®Œï¼Œè¦ä¹ˆå‰©ä½™ nums2æ²¡æ’å…¥è¿›å»ï¼Œæ­¤æ—¶må·²ç»éå†å®Œäº†ï¼Œä¹Ÿå°±æ˜¯ä¸€å®šåˆ°ç´¢å¼•0çš„ä½ç½®äº†ï¼Œå› æ­¤ä»0å¼€å§‹
  // è¦ä¹ˆå°±æ˜¯nums2æ’å…¥å®Œäº†ï¼Œæ‰§è¡Œä¸‹é¢çš„ä¹Ÿæ— æ‰€è°“
  nums1.splice(0, len2 + 1, ...nums2.slice(0, len2 + 1))
  return nums1
}
```

### å­—ç¬¦ä¸²

#### [344]ç¿»è½¬å­—ç¬¦ä¸²

```js
var reverseString = function (s) {
  let len = s.length

  let left = 0
  let right = len - 1

  while (left <= right) {
    ;[s[left], s[right]] = [s[right], s[left]]
    left++
    right--
  }
  return s
}
```

#### [1047]åˆ é™¤å­—ç¬¦ä¸²ä¸­ç›¸é‚»çš„å­—ç¬¦

```js
var removeDuplicates = function (s) {
  const stack = []
  for (const char of s) {
    // æ¯æ¬¡å¯¹æ¯”ä¸€ä¸ªï¼Œå¦‚æœç›¸åŒå°±å¼¹å‡ºï¼Œè¿™é‡Œä¸éœ€è¦whileå¾ªç¯
    if (stack[stack.length - 1] === char) {
      stack.pop()
    } else {
      stack.push(char)
    }
  }
  return stack.join('')
}
```

#### [3]æ— é‡å¤çš„æœ€é•¿å­ä¸²

```js
var lengthOfLongestSubstring = function (s) {
  let max = 0
  let str = ''

  for (let i = 0; i < s.length; i++) {
    const idx = str.indexOf(s[i])
    // å¦‚æœé‡å¤äº†ï¼Œå°±ä»ä¸‹ä¸€ä½å¼€å§‹æˆªå–
    // dvdy -ã€‹dv -> dv d idx ä¸º0ï¼Œéœ€è¦ä»vå¼€å§‹æˆªå–
    if (idx !== -1) {
      str = str.slice(idx + 1)
    }
    str += s[i]
    max = Math.max(str.length, max)
  }
  return max
}

// ç”¨æŒ‡é’ˆï¼Œç”¨æŒ‡é’ˆçš„è¯ï¼Œå°±å¯ä»¥é¿å…ä¸Šé¢iä¸€ç›´åœ¨æ‰§è¡Œçš„é—®é¢˜
var lengthOfLongestSubstring = function (s) {
  let right = 0
  let max = 0
  let str = ''

  // è¿™é‡Œè¿˜ä¸èƒ½ = s.lengthï¼Œå› ä¸ºç´¢å¼•å°±åˆ°length
  while (right < s.length) {
    if (str.indexOf(s[right]) === -1) {
      str += s[right]
      right++
      max = Math.max(max, str.length)
    } else {
      // åŒæ—¶å­—ç¬¦ä¸²ï¼Œè¿˜éœ€è¦å»æ‰ç¬¬ä¸€ä¸ªï¼Œå› ä¸ºå¿…å®šæ˜¯ç¬¬ä¸€ä¸ªå¼€å§‹ç›¸åŒ
      str = str.slice(1)
    }
  }
  return max
}
```

### å¸¸è§„ç®—æ³•

#### promiseLimit

```js
const promiseLimit = (ps, limit) => {
  // å¼‚æ­¥ç¼–ç¨‹ï¼Œè‚¯å®šéœ€è¦promise
  return new Promise((resolve, reject) => {
    let running = 0
    let idx = 0
    let results = []

    // runTask è¾…åŠ©å‡½æ•°ï¼šæ‰§è¡Œå…·ä½“çš„å¼‚æ­¥ä»»åŠ¡
    const runTask = (task) => {
      running++
      console.log('è¿è¡Œä¸­çš„æ•°é‡ï¼š', running)
      // taskæœ¬èº«æ˜¯promiseï¼Œæ‰€ä»¥ç›´æ¥then
      task()
        .then((res) => {
          // åˆ°è¿™é‡Œä¸€ä¸ªä»»åŠ¡å°±ç»“æŸäº†
          running--
          results.push(res)
          // ç„¶åå¼€å¯æ–°çš„ä»»åŠ¡
          walk()
        })
        .catch((err) => reject(err))
    }

    // ä¸»å‡½æ•°ï¼Œæ‰§è¡Œå…¥å£
    const walk = () => {
      // æ­£åœ¨è¿è¡Œçš„æ•°é‡å°äºlimitï¼Œåˆ™æŒç»­å‹å…¥
      while (running < limit && idx < ps.length) {
        runTask(ps[idx])
        idx++
      }
      // whileå¾ªç¯ç»“æŸåï¼Œå¦‚æœrunningä¸º0ï¼Œè¯´æ˜å·²ç»å…¨éƒ¨ç»“æŸ
      if (!running) resolve(results)
    }
    walk()
  })
}

const tasks = [
  () => new Promise((resolve) => setTimeout(() => resolve(1), 1000)),
  () => new Promise((resolve) => setTimeout(() => resolve(2), 2000)),
  () => new Promise((resolve) => setTimeout(() => resolve(3), 3000)),
  () => new Promise((resolve) => setTimeout(() => resolve(4), 4000)),
  () => new Promise((resolve) => setTimeout(() => resolve(5), 5000)),
  () => new Promise((resolve) => setTimeout(() => resolve(6), 6000)),
]

promiseLimit(tasks, 2)
  .then((results) => {
    console.log(results)
  })
  .catch((error) => {
    console.error(error)
  })
```

#### ç»§æ‰¿

##### 1ã€ åŸå‹é“¾ç»§æ‰¿

çˆ¶ç±»çš„å®ä¾‹ï¼Œä½œä¸ºå­ç±»çš„åŸå‹å¯¹è±¡

```js
function Parent() {
  this.name = 'parent'
}
Parent.prototype.sayHi = function () {
  console.log('hi')
}

function Child() {
  this.name = 'child'
  this.age = 12
}

Child.prototype = new Parent()

var child = new Child()

console.log(child.name, child.age) // parent 12
child.sayHi() // hi

child.name = 'child'
console.log(child.name) // child
console.log(new Parent().name) // child

// åŒ…å«å¼•ç”¨ç±»å‹å€¼çš„åŸå‹å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«
function SuperType() {
  this.colors = ['red', 'blue', 'green']
}

function SubType() {}

//inherit from SuperType
SubType.prototype = new SuperType()

var instance1 = new SubType()

instance1.colors.push('black')
console.log(instance1.colors) //"red,blue,green,black"

var instance2 = new SubType()
console.log(instance2.colors) //"red,blue,green,black"
```

ç‰¹ç‚¹ï¼š

- çˆ¶ç±»å¼•ç”¨ç±»å‹ï¼Œä¼šè¢«å­ç±»å®ä¾‹ç»§æ‰¿ï¼Œå®¹æ˜“é€ æˆä¿®æ”¹çš„ç›¸äº’å½±å“
- æ²¡åŠæ³•ä¼ å‚æ•°

##### 2ã€ å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿

```js
function Parent() {
  this.arr = [1, 2, 3]
}
function Child() {
  Parent.call(this)
}

var child1 = new Child()
child1.arr.push('4')
console.log(child1.arr) // [1,2,3,4]

var child2 = new Child()
console.log(child2.arr) // [1,2,3]
```

ä¸Šé¢çš„ä»£ç ï¼Œå¼•ç”¨ç±»å‹ï¼Œä¸ä¼šå†åœ¨æ‰€æœ‰å®ä¾‹é—´å…±äº«äº†

é‚£å‚æ•°å‘¢ï¼Ÿ

```js
function Parent(name = 'parent default') {
  this.name = name
}
function Child(name) {
  Parent.call(this, name)
  this.age = 18
}

var child1 = new Child()
console.log(child1.name) // parent default

var child2 = new Child('son')
console.log(child2.name) // son
```

##### 3ã€ç»„åˆç»§æ‰¿

å°†**åŸå‹é“¾ç»§æ‰¿å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿**ï¼Œç»„åˆåˆ°ä¸€å—

```js
function Parent(name) {
  this.name = name
  this.arr = [1, 2, 3]
}
Parent.prototype.sayName = function () {
  console.log(this.name)
}

function Child(name, age) {
  Parent.call(this, name)
  this.age = age
}
Child.prototype = new Parent()
Child.prototype.sayAge = function () {
  console.log(this.age)
}

var c1 = new Child('c1', 20)
c1.arr.push(4)

console.log(c1.arr) // [1,2,3,4]
c1.sayAge() // 20
c1.sayName() // c1

var c2 = new Child('c2', 22)

console.log(c2.arr) // [1,2,3,4]
c2.sayAge() // 22
c2.sayName() // c2
```

##### 4ã€åŸå‹å¼ç»§æ‰¿

é€šè¿‡åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ä¸­é—´å¯¹è±¡ï¼Œ å°†è¯¥å¯¹è±¡ä½œä¸ºæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹ï¼Œå®ç°ç»§æ‰¿

- å®šä¹‰ä¸€ä¸ªç©ºå‡½æ•° Fï¼Œè®¾ç½® F.prototype = objï¼Œç„¶åè¿”å› new F()

```js
function createObj(obj) {
  function F() {}
  // å’ŒåŸå‹é“¾å¼ç›¸æ¯”ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨çš„objï¼Œè€Œä¸æ˜¯ æ–°å®ä¾‹
  F.prototype = obj
  return new F()
}
var person = {
  name: 'p1',
  friends: [1, 2, 3],
}
var p1 = createObj(person)
console.log(p1.name) // p1
p1.friends.push(4)
console.log(p1.friends) // [1,2,3,4]

var p2 = createObj(person)
console.log(p2.name) // p1
console.log(p2.friends) // [1,2,3,4]
```

##### 5ã€å¯„ç”Ÿå¼ç»§æ‰¿

å…¶å®å°±æ˜¯ä½¿ç”¨ Object.create åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†æ“ä½œå¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸ºå¯„ç”Ÿåœ¨ Object.create é‡Œ

```js
function createObj(proto) {
  var obj = Object.create(proto)
  // ä¸ºå¯¹è±¡æ·»åŠ å‡½æ•°ï¼Œä¼šç”±äºä¸èƒ½åšåˆ°å‡½æ•°å¤ç”¨è€Œé™ä½æ•ˆç‡
  obj.greet = function () {
    console.log('hello')
  }
  return obj
}
var parent = {
  name: 'Parent',
  sayHello: function () {
    console.log('Hello')
  },
}

var child = createObj(parent)
console.log(child.name) // è¾“å‡ºï¼š'Parent'
```

##### 6ã€ç»„åˆå¼ç»§æ‰¿

ç»„åˆå¼æ˜¯ï¼šå€Ÿç”¨æ„é€ å‡½æ•°å¼ + å¯„ç”Ÿå¼

```js
function Parent(name) {
  this.name = name
}

Parent.prototype.sayHello = function () {
  console.log('Hello, I am ' + this.name)
}

function Child(name, age) {
  Parent.call(this, name)
  this.age = age
}

Child.prototype = Object.create(Parent.prototype)
Child.prototype.constructor = Child

Child.prototype.sayAge = function () {
  console.log('I am ' + this.age + ' years old')
}

var child = new Child('Alice', 10)
console.log(child.name) // è¾“å‡ºï¼š'Alice'
child.sayHello() // è¾“å‡ºï¼š'Hello, I am Alice'
child.sayAge() // è¾“å‡ºï¼š'I am 10 years old'
```

##### 7ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿

- å…¶å®å°±æ˜¯ å€Ÿç”¨æ„é€ å‡½æ•° + åŸå‹å¼ + å¯„ç”Ÿå¼

```js
function object(o) {
  function F() {}
  F.prototype = o
  return new F()
}

function inheritPrototype(subType, superType) {
  var prototype = object(superType.prototype) // åˆ›å»ºå¯¹è±¡
  prototype.constructor = subType // å¢å¼ºå¯¹è±¡
  subType.prototype = prototype // æŒ‡å®šå¯¹è±¡
}

function SuperType(name) {
  this.name = name
  this.colors = ['red', 'blue', 'green']
}

SuperType.prototype.sayName = function () {
  alert(this.name)
}

function SubType(name, age) {
  SuperType.call(this, name)

  this.age = age
}

inheritPrototype(SubType, SuperType)

SubType.prototype.sayAge = function () {
  alert(this.age)
}

var instance1 = new SubType('Nicholas', 29)
instance1.colors.push('black')
alert(instance1.colors) //"red,blue,green,black"
instance1.sayName() //"Nicholas";
instance1.sayAge() //29

var instance2 = new SubType('Greg', 27)
alert(instance2.colors) //"red,blue,green"
instance2.sayName() //"Greg";
instance2.sayAge() //27
```

#### bindã€callã€apply å®ç°

æ‰‹åŠ¨å®ç° applyï¼Œæˆ‘ä»¬è¦çŸ¥é“ apply ï¼Œå°±æ˜¯ä¿®æ”¹ this æŒ‡å‘ï¼Œç„¶åç«‹å³æ‰§è¡Œå‡½æ•°ç½¢äº†

- è€Œå¦‚ä½•ä¿®æ”¹ this æŒ‡å‘å‘¢ï¼Ÿ å¯¹è±¡è°ƒç”¨å°± okï¼Œ
- æ³¨æ„åœ¨ä½¿ç”¨ this æ—¶ï¼Œç®­å¤´å‡½æ•°åŠ¡å¿…è¦æ³¨æ„

```js
// å®ç°apply
Function.prototype.myApply = function (ctx, args) {
  ctx = ctx || window

  const uuid = Symbol()
  ctx[uuid] = this // è¿™é‡ŒæŠŠthisï¼Œä¹Ÿå°±æ˜¯åç»­çš„å‡½æ•°ï¼ŒæŒ‚è½½åœ¨ä¸€ä¸ªå±æ€§ä¸Šï¼Œç±»ä¼¼ ctx.fn = this
  // const args = [...arguments].slice(1)[0] // applyçš„å‚æ•°äºŒæ˜¯ä¸ªæ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æˆªå–

  // è°ƒç”¨ // æ³¨æ„ï¼šè¿™é‡Œå‡½æ•°çš„å…¥å‚ ...args è¿™æ ·å†™ï¼Œç›®çš„æ˜¯ä¸ºäº†æ‹‰é½ï¼ŒåŸç”Ÿçš„applyï¼Œè™½ç„¶ä¸çŸ¥é“åŸç”Ÿåº•å±‚å¦‚ä½•å®ç°
  const res = ctx[uuid](...args)
  // åˆ é™¤å¤šä½™å±æ€§
  delete ctx[uuid]

  // è¿”å›ç»“æœ
  return res
}

// æ³¨æ„ï¼šè¿™é‡Œå‡½æ•°çš„å…¥å‚ ...arr è¿™æ ·å†™ï¼Œç›®çš„æ˜¯ä¸ºäº†æ‹‰é½ï¼ŒåŸç”Ÿçš„applyï¼Œè™½ç„¶ä¸çŸ¥é“åŸç”Ÿåº•å±‚å¦‚ä½•å®ç°
function greet(...arr) {
  // ...arr ç›¸å½“äºå°†å¤šä¸ªå‚æ•°ï¼Œæ”¾åœ¨æ•°ç»„arré‡Œ
  // console.log(arr) // æ‰“å°æ•°ç»„
  console.log('hello', this.name, arr.join(' '))
}

var obj = { name: 'test' }

console.log(greet.apply(obj, ['hi apply', 'hello'])) // hello test hi apply hello
console.log(greet.myApply(obj, ['hi myapply', 'hello'])) // hello test hi myapply hello

// å®ç° call
Function.prototype.myCall = function (ctx) {
  ctx = ctx || window

  // ç¬¬ä¸€é¡¹æ˜¯ ctxï¼Œç¬¬äºŒé¡¹æ‰æ˜¯ call çš„å…¥å‚
  const args = [...arguments].slice(1)

  const uuid = Symbol() // é˜²æ­¢é‡å¤
  ctx[uuid] = this // æŒ‡å‘æœªæ¥çš„å‡½æ•°

  const res = ctx[uuid](...args)
  delete ctx[uuid]
  return res
}

var obj = { name: 'obj' }
function greet(args) {
  console.log('hello', this.name, args.join(' '))
}

greet.myCall(obj, ['hello', 'mycall']) // hello obj hello mycall
greet.call(obj, ['hello', 'call']) // hello obj hello call

// å®ç°bind
Function.prototype.mybind = function (ctx) {
  ctx = ctx || window

  const uuid = Symbol()
  ctx[uuid] = this

  const args = [...arguments].slice(1)

  return function (...args1) {
    const res = ctx[uuid](...args1, ...args)
    delete ctx[uuid]
    return res
  }
}

var obj = { name: 'bind' }

function greet(...args) {
  console.log('hi', this.name, args.join(' '))
}

var myGreet = greet.bind(obj, 'outer', 'haha')
myGreet()

var myGreet1 = greet.mybind(obj, 'outer', 'haha')
myGreet1()
```

#### æ·±æ‹·è´

- æ€è·¯ï¼Œå…¶å®å°±æ˜¯éå†å¯¹è±¡ï¼Œç„¶åé€’å½’æ‹·è´
- éœ€è¦å¤„ç†ç‰¹æ®Šæ•°æ®ç±»å‹

```js
const originalObj1 = {
  name: 'John',
  age: 30,
  address: {
    city: 'New York',
    country: 'USA',
  },
  nu: null,
  undf: undefined,
  reg: /\d/g,
  arr: [1, 2],
  fn: () => console.log('fn'),
  date: new Date(),
  symbol: Symbol(), // ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œä¸èƒ½ç”¨ new
}

const deepClone = (target) => {
  const wMap = new WeakMap()

  const isType = (v) => Object.prototype.toString.call(v).slice(8, -1)
  // éœ€è¦é€’å½’
  const _deep = (obj) => {
    // æ—¶é—´ç±»å‹
    if (isType(obj) === 'Date') {
      return new Date(obj)
    }
    // å¦‚æœä¸æ˜¯æ•°ç»„æˆ–è€…å¯¹è±¡ï¼Œç›´æ¥è¿”å›
    if (!['Array', 'Object'].includes(isType(obj))) {
      return obj
    }

    // å¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ™å¼€å§‹å¤„ç†å¯¹è±¡
    const res = Array.isArray(obj) ? [] : Object.create(null)

    // å·²å¯¹è±¡æœ¬èº«ä½œä¸ºkeyï¼Œç„¶åresä½œä¸ºvalï¼Œé˜²æ­¢å¾ªç¯å¼•ç”¨
    if (wMap.has(obj)) {
      return wMap.get(obj)
    }
    wMap.set(obj, res) // å¦åˆ™å°±å­˜å…¥map

    // éå†å¯¹è±¡ï¼Œé€’å½’æ‹·è´
    Object.keys(obj).forEach((key) => {
      if (res[key]) return // å¦‚æœå·²ç»å¤åˆ¶ï¼Œç›´æ¥è¿”å›
      res[key] = _deep(obj[key]) // é€’å½’æ‹·è´
    })

    // æœ€åè¿”å›
    return res
  }

  return _deep(target)
}

const originalObj2 = deepClone(originalObj1)

console.log(originalObj2.address === originalObj1.address) // false
```

#### èŠ‚æµ

æ€è·¯ï¼š

- å¦‚æœç«‹å³æ‰§è¡Œçš„è¯ï¼Œä¸éœ€è¦åƒé˜²æŠ–é‚£æ ·ç”¨ flag
- å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œï¼ŒåŒæ—¶æ¸…ç©º timer
- å¦‚æœæœ‰å‰©ä½™æ—¶é—´ï¼Œä¸”æ²¡æœ‰å®šæ—¶å™¨ï¼Œåˆ™æ–°å»ºå®šæ—¶å™¨

```js
const throttle = (fn, duration = 300) => {
  let timer = null
  let lastTime = 0

  return function (...args) {
    let currentTime = Date.now()
    let restTime = duration - (currentTime - lastTime)

    // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œï¼ŒåŒæ—¶æ¸…é™¤å®šæ—¶å™¨
    if (restTime <= 0) {
      clearTimeout(timer) // å¯ä»¥é˜²æ­¢å®šæ—¶å™¨æ³„éœ²
      timer = null
      fn.apply(this, args)
      lastTime = currentTime // lastTimeæ˜¯ä¸Šæ¬¡æ‰§è¡Œçš„æ—¶é—´ï¼Œå› æ­¤è¿™é‡Œè¿™æ ·èµ‹å€¼
    } else if (!timer) {
      timer = setTimeout(() => {
        fn.apply(this, args)
        timer = null
        lastTime = Date.now()
      }, restTime)
    }
  }
}

window.addEventListener(
  'resize',
  throttleImmediate(() => {
    console.log('èŠ‚æµ')
  }, 1000)
)
```

#### é˜²æŠ–

æ€è·¯ï¼š

1. è¿”å›å‡½æ•°
2. å†æ¬¡è§¦å‘ï¼Œæ¸…ç©ºå®šæ—¶å™¨ï¼Œå¹¶å»¶è¿Ÿ

```js
// ç®€å•çš„
function debounce(fn, interval = 300) {
  let timer = null
  return () => {
    clearTimeout(timer)
    timer = setTimeout(fn, interval)
  }
}
const fun = () => console.log(1111)
window.addEventListener(
  'resize',
  debounce(() => console.log(1111), 1000)
)
window.addEventListener('resize', debounce(fun, 1000))
```

ä¸Šé¢çš„åªæ˜¯æ™®é€šçš„é˜²æŠ–ï¼Œè¿˜å¯ä»¥ç«‹å³æ‰§è¡Œ

```js
// å¸¦ç«‹å³æ‰§è¡Œçš„
function debounceImmediate(fn, interval = 300, immediate = true) {
  let timer = null
  return () => {
    clearTimeout(timer)
    if (immediate) {
      // å¦‚æœç«‹å³æ‰§è¡Œï¼Œåˆ™æ¸…é™¤å®šæ—¶å™¨ï¼Œå¹¶æ‰§è¡Œ
      immediate = false
      fn.apply(null)
    } else {
      timer = setTimeout(() => {
        fn.apply(null)
        immediate = true
      }, interval)
    }
  }
}

const fun2 = () => console.log(2222)
window.addEventListener('resize', debounceImmediate(fun2, 1000))
```
