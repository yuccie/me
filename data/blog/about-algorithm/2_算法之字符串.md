---
title: '算法之字符串'
date: Thu Aug 31 2023 08:49:25 GMT+0800 (中国标准时间)
lastmod: '2023-09-31'
tags: ['字符串', '算法']
draft: false
summary: '算法与数据结构'
layout: PostSimple
bibliography: references-data.bib
canonicalUrl: https://dume.vercel.app/blog/about-algorithm/2_算法之字符串
---

# 字符串

在前端领域，操作字符串，常见有正则方式，当然还可以通过其他算法来实现。

# 括号类

## leetcode20. 有效的括号

> 给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串 s ，判断字符串是否有效。<br/>
> 有效字符串需满足：
>
> - 左括号必须用相同类型的右括号闭合。<br/>
> - 左括号必须以正确的顺序闭合。<br/>
> - 每个右括号都有一个对应的相同类型的左括号。

### 方法一

```js
const isValid = (str) => {
  // 定义
  const strMap = {
    ')': '(',
    ']': '[',
    '}': '{',
  }
  const stack = []

  // 遍历字符串，放在一个栈里，如果出现了右侧括号，则前一个必须是与之匹配的左括号
  for (const s of str) {
    if (!strMap[s]) {
      stack.push(s)
    } else {
      // 此时遇到了右括号，那栈顶元素，应该与之配对，也就是 strMap[s]
      if (stack.pop() !== strMap[s]) {
        return false
      }
    }
  }
  return !stack.length
}

console.log(isValid('()({})()')) // true
console.log(isValid('()({})(')) // false
```

### 方法二

正则方式呢，成对匹配并消除，如果还有剩余，那就不是有效的括号

```js
'()({})()'.replace('()', '')
// '({})()'

'()({})()'.replace(/\(\)/g, '') // 使用正则全局模式
// '({})'

'()({})()'.replace(/\(\)/g, '').replace(/\[\]/g, '').replace(/\{\}/g, '')
// '()'   // 匹配完，依然有剩余，而且是有效的，因此需要循环

const isValid = (str) => {
  while (str.length) {
    const tempStr = str
    str = str.replace(/\(\)/g, '').replace(/\[\]/g, '').replace(/\{\}/g, '')
    // 循环的终止条件呢：先赋值，保证同一起跑线，然后执行匹配删除，如果执行一轮后，依然相同，
    // 则说明还有剩余的字符串，也就不是有效的括号
    if (tempStr === str) {
      return false
    }
  }
  return true
}
console.log(isValid('()({})()')) // true
console.log(isValid('()({})(')) // false
```

### 方式三

```js
const isValid = (str) => {
  // 终止条件，除了相等外，还可以使用长度
  let len = 0
  while (len !== str.length) {
    // 如果长度不相同，则一直消除，最后经过一轮替换，如果没有变化，说明已经到头了
    len = str.length
    str = str.replace(/\(\)/g, '').replace(/\[\]/g, '').replace(/\{\}/g, '')
  }

  return !str.length
}
console.log(isValid('()({})()')) // true
console.log(isValid('()({})(')) // false
```
